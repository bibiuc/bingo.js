window.console&&window.console.log||(window.console={log:function(){},error:function(){},info:function(){},table:function(){}}),function(){"use strict";var a,b="",c=Object.prototype.toString,d=Object.prototype.hasOwnProperty,e=function(){},f=null,g=function(){return null==f&&(f=$('<div style="display:none"></div>')),f},h=0,i=0,j=window.bingo={version:{major:1,minor:4,rev:1,build:160412,toString:function(){return[this.major,this.minor,this.rev,this.build].join(".")}},isDebug:!1,prdtVersion:"",supportWorkspace:!1,stringEmpty:b,noop:e,newLine:"\r\n",hasOwnProp:function(a,b){return d.call(a,b)},trace:function(a){console.error&&console.error(a.stack||a.message||a+"")},isType:function(a,b){return c.apply(b)==="[object "+a+"]"},isUndefined:function(b){return"undefined"==typeof b||b===a},isNull:function(a){return null===a||this.isUndefined(a)},isBoolean:function(a){return this.isType("Boolean",a)},isNullEmpty:function(a){return this.isNull(a)||a===b},isFunction:function(a){return this.isType("Function",a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return this.isType("String",a)},isObject:function(a){return!this.isNull(a)&&this.isType("Object",a)&&!this.isElement(a)&&!this.isWindow(a)},isPlainObject:function(b){if(!this.isObject(b))return!1;try{if(b.constructor&&!d.call(b,"constructor")&&!d.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var e;for(e in b);return e===a||d.call(b,e)},isArray:function(a){return Array.isArray?Array.isArray(a):this.isType("Array",a)},isWindow:function(a){return!this.isNull(a)&&a==a.window},isElement:function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b},trim:function(a){return this.isString(a)?a.replace(/(^\s*)|(\s*$)|(^\u3000*)|(\u3000*$)|(^\ue4c6*)|(\ue4c6*$)/g,""):this.isNull(a)?"":a.toString()},isStringEquals:function(a,b){return a==b?!0:this.isString(a)&&this.isString(b)?a.toUpperCase()==b.toUpperCase():!1},replaceAll:function(a,b,c,d){return this.isNullEmpty(a)||this.isNullEmpty(b)?a:(b=b.replace(/([^A-Za-z0-9])/g,"\\$1"),a=a.replace(new RegExp(b,d||"g"),c))},toStr:function(a){return this.isNull(a)?"":a.toString()},inArray:function(a,b,c,d){var e=this.isFunction(a)?a:null;if(2==arguments.length&&!e&&b&&b.indexOf)return b.indexOf(a);var f=-1;return this.each(b,function(b,c){if(e){if(e.call(b,b,c))return f=c,!1}else if(b===a)return f=c,!1},c,d),f},removeArrayItem:function(a,b){for(var c=[],d=0,e=b.length;e>d;d++)b[d]!=a&&c.push(b[d]);return c},sliceArray:function(a,b,c){return isNaN(b)&&(b=0),isNaN(c)&&(c=a.length),0>b&&(b=c+b),0>b&&(b=0),Array.prototype.slice.call(a,b,b+c)},makeAutoId:function(){var a=(new Date).valueOf();return i=a===h?i+1:0,h=a,[a,i].join("_")},each:function(a,b,c,d){if(!this.isNull(a)&&j.isNumeric(a.length)){var e=null,f=j.isNumeric(c)?c:0;0>f&&(f=a.length+f),0>f&&(f=0);var g=d?f-1:a.length,h=d?a.length-1:f;if(!(d&&g>=h||!d&&h>=g))for(var i=d?-1:1,k=h;k!=g&&(e=a[k],b.call(e,e,k)!==!1);k+=i);}},eachProp:function(a,b){if(a){var c;for(var d in a)if(j.hasOwnProp(a,d)&&(c=a[d],b.call(c,c,d)===!1))break}},htmlEncode:function(a){if(this.isNullEmpty(a))return"";var b=g();return b.text(a),a=b.html()},htmlDecode:function(a){if(this.isNullEmpty(a))return"";var b=g();b.html(a);var c=b.text();return c},urlEncode:function(a){return this.isNullEmpty(a)?"":encodeURI(a)},urlDecode:function(a){return this.isNullEmpty(a)?"":decodeURI(a)},clearObject:function(a){for(var b=0,c=arguments.length;c>b;b++)a=arguments[b],j.eachProp(a,function(b,c){b&&b.$clearAuto===!0&&(b.dispose?b.dispose():j.clearObject(b)),a[c]=null})},extend:function(a){var b=arguments.length;if(0>=b)return a;if(1==b){for(var c in a)j.hasOwnProp(a,c)&&(this[c]=a[c]);return this}for(var d=null,e=1;b>e;e++)d=arguments[e],this.isNull(d)||j.eachProp(d,function(b,c){a[c]=b});return a},clone:function(a,b,c,d){return b=b!==!1,arguments.length<4&&(d=-1),m.clone(a,b,c,d)},proxy:function(a,b){return function(){return b&&b.apply(a,arguments)}}},k=["bingoV"+j.version.major].join(""),l=[k,j.version.minor].join("_");window[k]=window[l]=j;var m={isCloneObject:function(a){return j.isPlainObject(a)},clone:function(a,b,c,d){return a?j.isArray(a)?this.cloneArray(a,b,c,d):c||this.isCloneObject(a)?this.cloneObject(a,b,d):a:a},cloneObject:function(a,b,c,d){if(0===d)return a;var e={};return j.eachProp(a,function(a,c){b&&(a=m.clone(a,b,!1,d-1)),e[c]=a}),e},cloneArray:function(a,b,c){if(0===c)return a;if(b===!1)return a.concat();for(var d,e=[],f=0,g=a.length;g>f;f++)d=this.clone(a[f],!0,!1,c-1),e.push(d);return e}}}(),function(a){"use strict";var b=/[\[\.]?[\'\"]?([^\[\]\.\'\"]+)[\'\"]?[\]\.]?/g,c=function(a){b.lastIndex=0;var c=[];return a.replace(b,function(a,b,d,f){e(a)&&c.length>0&&(c[c.length-1].isArray=!0),c.push({attrname:b,isArray:!1})}),c},d=function(b,d,e){if(b&&!a.isNullEmpty(d)){d.indexOf(".")<0&&d.indexOf("]")<0&&(b[d]=e);for(var f=c(d),g=b,h=null,i=f.length-1,j=null,k=0;i>k;k++)h=f[k],j=h.attrname,a.isNull(g[j])&&(g[j]=h.isArray?[]:{}),g=g[j];j=f[i].attrname,g[j]=e}},e=function(a){return a.indexOf("]")>=0&&a.indexOf('"')<0&&a.indexOf("'")<0},f=function(b,d){if(b&&!a.isNullEmpty(d)){if(d.indexOf(".")<0&&d.indexOf("]")<0)return b[d];for(var e=c(d),f=b,g=null,h=e.length-1,i=null,j=0;h>j;j++){if(g=e[j],i=g.attrname,a.isNull(f[i]))return f[i];f=f[i]}return i=e[h].attrname,f[i]}};a.extend({datavalue:function(a,b,c){return arguments.length>=3?void d(a,b,c):f(a,b)}})}(bingo),function(a){"use strict";a.Event=function(c,d){var e=function(a){return a&&e.on(a),0==arguments.length?e:this};return e.__bg_isEvent__=!0,e.__eventList__=d||[],a.extend(e,b),e.owner(c),e},a.isEvent=function(a){return a&&a.__bg_isEvent__===!0};var b={_end:!1,_endArg:void 0,owner:function(a){return 0==arguments.length?this.__owner__:(this.__owner__=a,this)},_this:function(){return this.owner()||this},on:function(a){return a&&(this._checkEnd(a)||this.__eventList__.push({one:!1,callback:a})),this},one:function(a){return a&&(this._checkEnd(a)||this.__eventList__.push({one:!0,callback:a})),this},off:function(b){if(b){var c=[];a.each(this.__eventList__,function(){this.callback!=b&&c.push(this)}),this.__eventList__=c}else this.__eventList__=[];return this},_checkEnd:function(a){if(this._end){var b=this._endArg||[],c=this._this();setTimeout(function(){a.apply(c,b)},1)}return this._end},end:function(a){return this._end=!0,this._endArg=a,this.trigger(a),this.off(),this},trigger:function(){for(var b=this.__eventList__,c=null,d=null,e=null,f=this._this(),g=0,h=b.length;h>g&&(d=b[g],d.one===!0&&(e||(e=this.__eventList__),e=a.removeArrayItem(d,e)),(c=d.callback.apply(f,arguments[0]||[]))!==!1);g++);return e&&(this.__eventList__=e),c},triggerHandler:function(){var b=this.__eventList__,c=null,d=this._this();if(0!=b.length){c=b[0];var e=c.callback.apply(d,arguments[0]||[]);return c.one===!0&&(this.__eventList__=a.removeArrayItem(c,this.__eventList__)),e}},clone:function(b){return a.Event(b||this.owner(),this.__eventList__)},size:function(){return this.__eventList__.length}}}(bingo),function(a){"use strict";var b="isVar1212";a.isVariable=function(a){return a&&a._isVar_==b},a.variableOf=function(b){return a.isVariable(b)?b():b};var c=function(a,b,c,d){a._tid_||(a._changes_=[],a._changes_F_=[],a._tid_=setTimeout(function(){delete a._tid_;var b=a._changes_,c=a._changes_F_;delete a._changes_F_,delete a._changes_,c.length>0&&a._triggerFn([a.toObject(),c,a],!1),b.length>0&&a._triggerFn([a.toObject(),b,a],!0)},1)),(d?a._changes_:a._changes_F_).push({value:b,name:c})},d=a.variable=function(d,h,i,j){var k=a.variableOf(d),l=function(b){if(l.owner=this,0==arguments.length){var d=l._get_?l.$get():l.value;return l.owner=null,d}b=a.variableOf(b);var e=a.clone(l.$get());l._set_?l._set_.call(l,b):l.value=b,b=l.$get();var f=!a.equals(b,e),g=l.$owner()||this;return f?l.$setChange():(l._triggerFn([b],!1),a.isModel(g)&&c(g,b,j,!1)),l.owner=null,g};return l.$name=j,l._isVar_=b,a.extend(l,f,g),e&&a.extend(l,e),l.$owner(h).$view(i),l(k),l},e=null;d.extend=function(b){b&&(e=a.extend(e||{},b))};var f=a.variable.eventDef={_isChanged:!0,_triggerChange:function(){var b=this.$get();this._triggerFn([b],!0);var d=this.$owner();a.isModel(d)&&c(d,b,this.$name,!0)},_addFn:function(b,c,d,e){return(this._fnList||(this._fnList=[])).push({fn:b,change:c,disposer:d,_priority:e||50}),this._fnList=a.linq(this._fnList).sortDesc("_priority").toArray(),this},_triggerFn:function(b,c){if(this._fnList){var d=this,e=!1;a.each(this._fnList,function(){return this.disposer&&this.disposer.isDisposed?(e=!0,void a.clearObject(this)):void(!c&&this.change||this.fn.apply(d,b))}),e&&(this._fnList=a.linq(this._fnList).where(function(){return this.fn}).toArray())}},$off:function(b){arguments.length>0?this._fnList=a.linq(this._fnList).where(function(){return this.fn==b?(a.clearObject(this),!1):!0}).toArray():(a.each(this._fnList,function(){a.clearObject(this)}),this._fnList=[])},$assign:function(a,b,c){return this._addFn(a,!1,b||this.$view(),c)},$subs:function(a,b,c){return this._addFn(a,!0,b||this.$view(),c)},$setChange:function(a){return this._isChanged=a!==!1,this._isChanged&&this._triggerChange(),this},$setChangeAsyn:function(a){this.__tchangeAsyn&&clearInterval(this.__tchangeAsyn);var b=this;return b.__tchangeAsyn=setTimeout(function(){b.__tchangeAsyn=null,b.$setChange(a)},2),this},$view:function(a){return 0==arguments.length?this._view_:(this._view_=a,this)}},g={size:function(){var a=this.$get();return a&&a.length||0},$get:function(b){return 0==arguments.length?this._get_?this._get_.call(this):this.value:(a.isFunction(b)&&(this._get_=b),this)},$set:function(b){return a.isFunction(b)&&(this._set_=b,this(this.$get())),this},$owner:function(a){return 0==arguments.length?this._owner_:(this._owner_=a,this)},$linq:function(){return a.linq(this())},clone:function(b){var c=a.variable(this.value);return c._get_=this._get_,c._set_=this._set_,c.$owner(b||this.$owner()).$view(this.$view()),c},pop:function(){return this.$setChangeAsyn(!0),this().pop()},push:function(a){var b=this();return b.push.apply(b,arguments),this.$setChangeAsyn(!0),this},insert:function(b,c){var d=this(),e=[b,0].concat(a.sliceArray(e,1));return d.splice.apply(d,e),this.$setChangeAsyn(!0),this},concat:function(){var a=this();return a.concat.apply(a,arguments),this(a),this.$setChangeAsyn(!0),this},reverse:function(){return this().reverse(),this.$setChangeAsyn(!0),this},indexOf:function(b){return a.inArray(b,this())},join:function(a){return this().join(a)},remove:function(a,b){var c=this();return c.splice.apply(c,arguments),this.$setChangeAsyn(!0),this},removeItem:function(a){return this.remove(this.indexOf(a),1)}}}(bingo),function(a){"use strict";var b=function(b,c){var d=b.prototype,e=d.__bg_property__||(d.__bg_property__={});a.eachProp(c,function(b,c){a.isPlainObject(b)||a.isArray(b)?e[c]=b:d[c]=b})},c="__pro_names__",d=function(b,d){var f=b.prototype,g=f[c]?f[c].split(","):[];a.eachProp(d,function(a,b){a=d[b],f[b]=e(b,a),g.push(b)}),f[c]=g.join(",")},e=function(b,c){var d=a.isObject(c),e=d&&c.$set,g=d&&c.$get,h=null;return h=e||g?function(d){var h=f(this),i=a.hasOwnProp(h,b)?h[b]:h[b]={value:a.clone(c.value)};if(i.owner=this,0==arguments.length){var j=g?g.call(i):i.value;return i.owner=null,j}return e?e.call(i,d):i.value=d,i.owner=null,this}:function(d){var e=f(this);return 0==arguments.length?a.hasOwnProp(e,b)?e[b]:c:(e[b]=d,this)}},f=function(a){return a._bg_prop_||(a._bg_prop_={})},g="NewObject_define",h=function(a,b){this._define=a,b&&this._Base(b)};a.extend(h.prototype,{_Base:function(b){var c=this._define;c.prototype=new b(g),c.prototype.constructor=c;var d=c.prototype.__bg_property__;d&&(c.prototype.__bg_property__=a.clone(d)),c.prototype.base=function(){var c=b.prototype;this.base=c.base,c.___Initialization__==a.noop?this.base.apply(this,arguments):c.___Initialization__.apply(this,arguments)}},Define:function(a){return b(this._define,a),this},Initialization:function(a){return this._define.prototype.___Initialization__=a,this},Static:function(b){return a.extend(this._define,b),this},Prop:function(a){return d(this._define,a),this}}),a.isClassObject=function(a){return a&&a.__bg_isObject__===!0},a.isClass=function(a){return a&&a.__bg_isClass__===!0},a.Class=function(){for(var c,e,f,l=null,m=0,n=arguments.length;n>m;m++)l=arguments[m],l&&(a.isClass(l)?e=l:a.isFunction(l)?f=l:a.isString(l)&&(c=l));e||(e=a.Class.Base);var o=function(){return arguments[0]!=g?o.NewObject.apply(window,arguments):void 0};o.__bg_isClass__=!0,o.prototype.___Initialization__=a.noop,o.prototype.base=a.noop,o.extend=function(a){b(o,a)},o.extendProp=function(a){d(o,a)},o.NewObject=function(){var b=new o(g);if(b.__bg_property__){var c=a.clone(b.__bg_property__);a.extend(b,c)}return b.___Initialization__==a.noop?b.base&&b.base.apply(b,arguments):b.___Initialization__.apply(b,arguments),b.___Initialization__=a.noop,b.base=a.noop,o._onInit_&&o._onInit_.trigger([b]),o._onDispose_&&b.onDispose(function(){o._onDispose_.trigger([b])}),b},o.onInit=i,o.onDispose=j;var p=new h(o,e);return f&&f.call(p),p=null,a.isNullEmpty(c)||k(c,o),o};var i=function(b){return b&&(this._onInit_||(this._onInit_=a.Event()),this._onInit_.on(b)),this},j=function(b){return b&&(this._onDispose_||(this._onDispose_=a.Event()),this._onDispose_.on(b)),this},k=function(b,c){for(var d=b.split("."),e=window,f="",g=d.length-1,h=0;g>h;h++)f=d[h],a.isNullEmpty(f)||(a.isNull(e[f])&&(e[f]={}),e=e[f]);return e[d[g]]&&l(e[d[g]],c),e[d[g]]=c},l=function(b,c){a.eachProp(b,function(b,d){a.hasOwnProp(c,d)||(c[d]=b)})};a.Class.makeDefine=function(a,b){k(a,b)},a.Class.Base=a.Class(function(){this.Define({__bg_isObject__:!0,isDisposed:!1,disposeStatus:0,dispose:function(){if(0===this.disposeStatus)try{this.disposeStatus=1,this.trigger("$dispose")}finally{a.clearObject(this),this.disposeStatus=2,this.isDisposed=!0,this.dispose=a.noop}},onDispose:function(a){return this.on("$dispose",a)},disposeByOther:function(b){if(b&&b.dispose&&!b.isDisposed){var c=a.proxy(this,function(){this.dispose()});b.onDispose(c),this.onDispose(function(){b.isDisposed||b.onDispose().off(c)})}return this},$prop:function(b){var d=this[c];if(a.isNullEmpty(d))return 0==arguments.length?null:this;d=d.split(",");var e=this;return 0==arguments.length?(b={},a.each(d,function(a){b[a]=e[a]()}),b):(a.eachProp(b,function(c,f){a.inArray(f,d)>=0&&e[f](b[f])}),this)}}),this.Define({getEvent:function(b){if(b){this.__events__||(this.__events__={});var c=this.__events__;return c[b]||(c[b]=a.Event(this))}return null},hasEvent:function(a){return this.__events__&&this.__events__[a]&&this.__events__[a].size()>0},on:function(a,b){return a&&b&&this.getEvent(a).on(b),this},one:function(a,b){return a&&b&&this.getEvent(a).one(b),this},off:function(a,b){return this.hasEvent(a)&&this.getEvent(a).off(b),this},end:function(a,b){return a&&this.getEvent(a).end(b),this},trigger:function(a){if(this.hasEvent(a)){var b=arguments.length>1?arguments[1]:[];return this.getEvent(a).trigger(b)}},triggerHandler:function(a){if(this.hasEvent(a)){var b=arguments.length>1?arguments[1]:[];return this.getEvent(a).triggerHandler(b)}}})}),a.Class.Define=function(b){if(a.isObject(b)){var c=b.$base,d=b.$init,e=b.$dispose,f=b.$static,g=b.$prop;return c&&delete b.$base,d&&delete b.$init,e&&delete b.$dispose,f&&delete b.$static,g&&delete b.$prop,a.Class(c||a.Class.Base,function(){g&&this.Prop(g),this.Define(b),(d||e)&&this.Initialization(function(){e&&this.onDispose(e),d&&d.apply(this,arguments)}),f&&this.Static(f)})}}}(bingo),function(a){"use strict";var b=a.linqClass=a.Class(function(){this.Define({concat:function(b,c){this._doLastWhere(),c=c===!0,!a.isArray(b)&&(b=[b]);var d=c?b:this._datas,e=c?this._datas:b;return this._datas=d.concat(e),this},_backup:null,backup:function(){return this._doLastWhere(),this._backup=this._datas,this},restore:function(a){if(a===!0){var b=this.toArray();0==b.length&&(this._datas=this._backup)}else this._datas=this._backup;return this},each:function(b,c,d){return this._doLastWhere(),a.each(this._datas,b,c,d),this},where:function(b,c,d,e){if(!a.isFunction(b)){var f=b,g=c;b=function(){return this[f]==g}}return this._doLastWhere(),this._lastWhere={fn:b,index:c,count:a.isNumeric(d)?d:-1,rever:e},this},_lastWhere:null,_doLastWhere:function(b,c,d){var e=this._lastWhere;if(e){this._lastWhere=null;var f=e.fn,b=a.isNumeric(b)?b:e.index,c=a.isNumeric(c)?c:e.count,d=a.isUndefined(d)?e.rever:d,g=[];this.each(function(a,b){return f.call(a,a,b)&&(g.push(a),-1!=c&&(c--,0==c))?!1:void 0},b,d),this._datas=g}return this},select:function(b,c){if(!a.isFunction(b)){var d=b;b=function(){return this[d]}}this._doLastWhere();var e=[];return this.each(function(a,d){c===!0?e=e.concat(b.call(a,a,d)):e.push(b.call(a,a,d))}),this._datas=e,this},sort:function(a){return this._doLastWhere(),this._datas=this._datas.sort(function(b,c){var d=a(b,c);return d>0||d===!0?1:0>d||d===!1?-1:0}),this},sortAsc:function(b){var c=a.isFunction(b);return this.sort(function(a,d){return c?b.call(a,a)-b.call(d,d):b?a[b]-d[b]:a-d})},sortDesc:function(b){var c=a.isFunction(b);return this.sort(function(a,d){return c?b.call(d,d)-b.call(a,a):b?d[b]-a[b]:d-a})},unique:function(b){this._doLastWhere();var c=[],d=[];if(!a.isFunction(b))if(0==arguments.length)b=function(a){return a};else{var e=b;b=function(a){return a[e]}}return this.each(function(e,f){var g=b.call(e,e,f);a.inArray(g,d)<0&&(c.push(e),d.push(g))}),this._datas=c,this},count:function(){return this._doLastWhere(),this._datas.length},first:function(a){return this._doLastWhere(0,1),this._datas[0]||a},last:function(a){return this._doLastWhere(0,1,!0),this._datas[0]||a},contain:function(){return this._doLastWhere(0,1),this.count()>0},index:function(){var b=this._datas,c=this.first();return a.inArray(c,b)},sum:function(b){if(this._doLastWhere(),!a.isFunction(b)){var c=b;b=function(a){return c?a[c]:a}}var d=0;return this.each(function(a,c){d+=b?b.call(a,a,c):a}),d},avg:function(b){if(this._doLastWhere(),!a.isFunction(b)){var c=b;b=function(a){return c?a[c]:a}}var d=0;return this.each(function(a,c){d+=b?b.call(a,a,c):a}),0==d?0:d/this._datas.length},take:function(b,c){return this._doLastWhere(),(isNaN(c)||0>c)&&(c=this.count()),a.sliceArray(this._datas,b,c)},toArray:function(){return this._doLastWhere(),this._datas},toPage:function(a,b){var c=this.toArray(),d=1,e=1,b=b,f=c.length,c=c;return c.length>0&&(e=parseInt(f/b)+(f%b!=0?1:0),d=a>e?e:1>a?1:a,c=this.take((d-1)*b,b)),{currentPage:d,totalPage:e,pageSize:b,totals:f,list:c}},_getGroupByValue:function(a,b,c){for(var d=0,e=b.length;e>d;d++)if(b[d][c]==a)return b[d];return null},group:function(b,c,d){if(c||(c="group"),d||(d="items"),!a.isFunction(b)){var e=b;b=function(a){return a[e]}}this._doLastWhere();for(var f=[],g=this._datas,h=g.length,i=null,j=null,k=null,l=0;h>l;l++)i=g[l],k=b.call(i,i,l),j=this._getGroupByValue(k,f,c),null==j?(j={},j[c]=k,j[c+"Data"]=k,j[d]=[i],f.push(j)):j[d].push(i);return this._datas=f,this}}),this.Initialization(function(a){this._datas=a||[]})});a.linq=function(a){return b.NewObject(a)}}(bingo),function(a){"use strict";var b=function(b,f){return a.isNull(b)||a.isNull(f)?b===f:a.isArray(b)?d(b,f):b instanceof RegExp?c(b,f):a.isFunction(b)?a.isFunction(f)&&b.valueOf()===f.valueOf():a.isObject(b)?e(b,f):typeof b==typeof f&&b.valueOf()===f.valueOf()},c=function(a,b){return b instanceof RegExp&&a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline},d=function(c,d){if(c===d)return!0;if(!a.isArray(d)||c.length!=d.length)return!1;for(var e=0,f=c.length;f>e;e++)if(!b(c[e],d[e]))return!1;return!0},e=function(c,d){if(c===d)return!0;if(!a.isObject(d))return!1;var e=0;for(var f in c)if(e++,a.hasOwnProp(c,f)&&!b(c[f],d[f]))return!1;for(var g in d)e--;return 0===e};a.extend({equals:function(a,c){return b(a,c)}})}(bingo),function(a){"use strict";var b=window.document,c=b.head||b.getElementsByTagName("head")[0]||b.documentElement,d=c.getElementsByTagName("base")[0],e=/loaded|complete|undefined/i,f=function(e,f,h,i){var j=b.createElement("script");if(j.importurl=e,j.imporid=h||a.makeAutoId(),j.async="async",j.src=e,i){var k=a.isFunction(i)?i(e):i;k&&(j.charset=k)}return g(j,f||a.noop),d?c.insertBefore(j,d):c.appendChild(j),h},g=function(b,c){var d=function(){b&&e.test(b.readyState)&&(b.onload=b.onerror=b.onreadystatechange=null,!a.isDebug&&b.parentNode&&b.parentNode.removeChild(b),setTimeout(function(){if(b)try{c&&c(b.importurl,b.imporid,b)}finally{b=void 0,c=null}},1))};b.onload=b.onerror=b.onreadystatechange=function(){d()}};a.extend({fetch:function(a,b,c,d){return f(a,b,c,d)}})}(bingo),function(a){"use strict";var b,c=[],d=[],e=[],f=[[],[]],g=function(b,c){return a.inArray(function(c){return a.isStringEquals(c,b)},c)},h=function(a){return g(a,c)>=0||g(a,d)>=0||g(a,e)>=0},i=function(b,c,d){!a.isNumeric(d)&&(d=a.usingPriority.Normal),j(b),f[d]||(f[d]=[]),f[d].push(c),e.length>0?k():setTimeout(function(){l()&&o()},1)},j=function(b){var c=a.stringEmpty;a.each(b,function(b){a.isNull(b)||(c=a.route(b),c=t(c),a.supportWorkspace||a.isNullEmpty(a.prdtVersion)||(c=[c,c.indexOf("?")>=0?"&":"?","_version_=",a.prdtVersion].join("")),h(c)||e.push(c))})},k=function(){if(e.length>0){var b=e;e=[],a.each(b,function(b){d.push(b),a.fetch(b,n)})}},l=function(){return e.length<=0&&d.length<=0},m=b,n=function(e,f){c.push(e),d=a.removeArrayItem(e,d),m!=b&&clearTimeout(m),m=setTimeout(function(){m=b,l()&&o()},5)},o=function(){var b=!0;a.each(f,function(c,d){var e=f[d];return f[d]=[],a.each(e,function(b){a.isFunction(b)&&b()}),f[d].length>0?(b=!1,!1):void 0}),b||l()&&o()},p=[],q=function(a,b){return{path:b,mapPath:a,pathReg:A(b)}},r=function(b,c){b=a.route(b),c=a.route(c);var d=s(c);a.isNull(d)?p.push(q(b,c)):d.mapPath=b},s=function(b,c){var d=a.inArray(function(d){return c===!0&&d.pathReg?(d.pathReg.lastIndex=0,d.pathReg.test(b)):a.isStringEquals(d.path,b)},p);return d>=0?p[d]:null},t=function(a){var b=s(a,!0);return b&&b.mapPath||a},u=/(\W)/g,v=/(\\([?*]))/g,w=/\\\*\\\*/g,x=/\?[^?=]+\=.*$/,y=/[?*]+/,z=function(b){return!a.isNullEmpty(b)&&y.test(b.replace(x,""))},A=function(a){if(!z(a))return null;var b=a.match(x);b?(b=b[0],a=a.replace(b,""),b=b.replace(u,"\\$1")):b="",u.lastIndex=0,v.lastIndex=0,w.lastIndex=0;var c=a.replace(u,"\\$1").replace(w,"(.*?)").replace(v,"([^./]$2?)");return c=["^",c,b,"$"].join(""),new RegExp(c)};a.extend({using:function(){if(!(arguments.length<=0)){for(var b=[],c=null,d=0,e=null,f=0,g=arguments.length;g>f;f++)e=arguments[f],e&&(a.isFunction(e)?c=e:a.isNumeric(e)?d=e:b=b.concat(e));i(b,function(){c&&c()},d)}},makeRegexMapPath:A,isRegexMapPath:z,usingMap:function(b,c){a.isNullEmpty(b)||!c||c.length<=0||a.each(c,function(c,d){a.isNullEmpty(c)||r(b,c)})},usingPriority:{First:0,NormalBefore:45,Normal:50,NormalAfter:55,Last:100},path:function(b){if(this.isObject(b))this.extend(B,b);else{if(!(arguments.length>1)){var c=b.split("?");return b=c[0],b=D(b),c.length>1&&(b+="?"+a.sliceArray(c,1).join("?")),b}B[arguments[0]]=arguments[1]}}});var B={},C=/%([^%]*)%/i,D=function(b){if(a.isNullEmpty(b)||b.indexOf("%")<0)return b;var c="";if(b.indexOf("?")){var d=b.split("?");b=d[0],c=d[1]}C.lastIndex=0;var e=b.match(C),f=a.stringEmpty,g=B;return e&&(f=D(g[e[1]]?b.replace(e[0],g[e[1]]):b.replace(e[0],a.stringEmpty))),e=null,g=null,c?[f,c].join("?"):f}}(bingo),function(a){"use strict";a.route=function(b,c){return 1==arguments.length?a.routeContext(b).toUrl:void(b&&c&&i.add(b,c))},a.routeContext=function(a){return i.getRouteByUrl(a)},a.routeLink=function(a,b){var c=i.getRuote(a);return c?h(c.context.url,b,1):""},a.routeLinkQuery=function(b,c){b||(b="");var d="";if(b.indexOf("$")>=0||b.indexOf("?")>=0){var e=a.routeContext(b);c=a.extend({},c,e.params.queryParams);var f=b.indexOf("$")>=0?"$":"?";b=b.split(f)[0]}return a.eachProp(c,function(a,b){a=encodeURIComponent(a||""),d=[d,"$",b,":",a].join("")}),[b,d].join("")};var b=/\{([^}]+)\}/gi,c=/\*\*|[?*](?!})/g,d=/\*$/,e=function(e,f){if(!e||!f.url)return null;var g=f.url,h=f._reg;if(!h){var i=g.indexOf("$")>=0?g.split("$")[0]:g;b.lastIndex=0,i=i.replace(b,function(a,b){return d.test(b)?"**":"*"}),h=f._reg=f._reg=a.makeRegexMapPath(i)}var j=e.split("$");if(!h.test(j[0]))return null;var k=[];g.replace(c,"{*}").replace(b,function(a,b,c){k.push({key:b,find:a})});var l,m={};j[0].replace(h,function(){var b=arguments;a.each(k,function(a,c){l=a.key,"*"!=l&&(m[l.replace("*","")]=b[c+1])})});var n=m.queryParams={};return j.length>1&&(j=a.sliceArray(j,1),a.each(j,function(a,b){var c=a.split(":"),d=c[0],e=decodeURIComponent(c[1]||"");d&&(m[d]=n[d]=e)})),m},f=function(){var b={app:null,module:null,controller:null,action:null},c=this.params;if(c){var d=c.app,e=c.module,f=a.isNullEmpty(d)?a.defaultApp():a.app(d),g=a.isNullEmpty(e)?f.defaultModule():f.module(e),h=g?g.controller(c.controller):null,i=h?h.action(c.action):g?g.action(c.action):null;b.app=f,b.module=g,b.controller=h,b.action=i}return b},g=function(a,b,c,d){return{name:a,params:d,url:b,toUrl:c,actionContext:f}},h=function(c,d,e){if(b.lastIndex=0,!c||!d)return a.path(c);var f,g,h,i="";return a.eachProp(d,function(b,d){f=["{",d,"}"].join(""),g=["{",d,"*}"].join(""),c.indexOf(f)>=0?c=a.replaceAll(c,f,b):c.indexOf(g)>=0?c=a.replaceAll(c,g,b):"module"!=d&&"controller"!=d&&"action"!=d&&"service"!=d&&"app"!=d&&"queryParams"!=d&&(h=encodeURIComponent(b||""),i=1==e?[i,"$",d,":",h].join(""):[i,"&",d,"=",h].join(""))}),i&&(c=1==e?[c,i].join(""):c.indexOf("?")>=0?[c,i].join(""):[c,i.substr(1)].join("?")),a.path(c)},i={datas:[],defaultRoute:{url:"**",toUrl:function(a,b){return a}},add:function(b,c){var d=this.getRuote(b);a.isUndefined(c.priority)&&(c.priority=100),d?d.context=c:this.datas.push({name:b,context:c}),this.datas=a.linq(this.datas).sort(function(a,b){return b.context.priority-a.context.priority}).toArray()},getRuote:function(b){var c=null;return a.each(this.datas,function(){return this.name==b?(c=this,!1):void 0}),c},getRouteByUrl:function(b){if(!b)return"";var c=b.split("?");c.length>1&&(b=c[0]);var d=null,f="",j=null;a.each(this.datas,function(){return d=this.context,j=e(b,d),j?(f=this.name,!1):void 0}),j||(d=i.defaultRoute,f="defaultRoute"),(j||d.defaultValue)&&(j=a.extend({},d.defaultValue,j)),a.isFunction(d.toUrl)&&d.toUrl;var k=a.isFunction(d.toUrl)?d.toUrl.call(d,b,j):d.toUrl;c.length>1&&(j||(j={}),c[1].replace(/([^=&]+)\=([^=&]*)/g,function(a,b,c){j[b]=c}));var k=h(k,j);return g(f,b,k,j)}};a.route("view",{priority:100,url:"view/{module}/{controller}/{action}",toUrl:"modules/{module}/views/{controller}/{action}.html",defaultValue:{module:"system",controller:"user",action:"list"}}),a.route("action",{url:"action/{module}/{controller}/{action}",toUrl:"modules/{module}/controllers/{controller}.js",defaultValue:{module:"system",controller:"user",action:"list"}}),a.route("viewS",{url:"view/{module}/{action}",toUrl:"modules/{module}/{action}.html",defaultValue:{module:"system",action:"list"}}),a.route("actionS",{url:"action/{module}/{action}",toUrl:"modules/{module}/scripts/{action}.js",defaultValue:{module:"system",action:"list"}}),a.route("service",{url:"service/{module}/{service}",toUrl:"modules/{module}/services/{service}.js",defaultValue:{module:"system",service:"user"}}),a.route("serviceS",{url:"service/{service}",toUrl:"modules/services/{service}.js",defaultValue:{module:"system",service:"user"}})}(bingo),function(a){"use strict";a.cacheToObject=function(a){return a&&a.__bg_cache__?a.__bg_cache__:a.__bg_cache__=g.NewObject()};var b=function(b,c){var d=a.linq(b._datas).where(function(){return this.key==c}).first();return d&&(d.t=(new Date).valueOf()),d},c=function(a,b,c,e){e>0&&d(a,e);var f={t:(new Date).valueOf(),key:b,value:c};return a._datas.push(f),f},d=function(b,c){var d=b._datas.length,e=5;d>=c+e&&(b._datas=a.linq(b._datas).sortAsc("t").take(e))},e=function(b,c){b._datas=a.linq(b._datas).where(function(){return this.key!==c}).toArray()},f=function(b,c){return a.linq(b._datas).where(function(){return this.key==c}).contain()},g=a.Class(function(){this.Prop({max:0,context:null}),this.Define({key:function(b){return 0==arguments.length?this._key:(this._key=a.sliceArray(arguments,0).join("_"),this)},_getItem:function(){var d=this.key();if(d){var e=(this._datas,b(this,d));if(e)return e;var f=this.context();if(a.isFunction(f))return this.context(null),c(this,d,f(),this.max())}},get:function(){var a=this._getItem();return a&&a.value},set:function(a){var b=this._getItem();if(b)b.value=a;else{var d=this.key();d&&c(this,d,a,this.max())}return this},has:function(){var a=this.key();return a?f(this,a):!1},clear:function(){var a=this.key();return this.has()&&e(this,a),this},clearAll:function(){return this._datas=[],this}}),this.Initialization(function(){this._datas=[]})})}(bingo),function(a,b){"use strict";var c="bingoLinkToDom";a.extend({linkToDom:function(d,e){if(d&&a.isFunction(e)){var f=b(d);f.size()>0?f.one(c,e):e.call(f)}return e},unLinkToDom:function(a,d){if(a){var e=b(a);d?e.off(c,d):e.off(c)}},isUnload:!1}),a.linkToDom.LinkToDomClass=a.Class(function(){this.Define({isDisposeFormDom:!1,linkToDom:function(c){if(this.__linkToDomInit(),c){this.unlinkToDom();var d=this.__bg_lnk_dom=b(c);this.__bg_lnk_fn=a.linkToDom(d,a.proxy(this,function(){this.isDisposeFormDom=!0,this.dispose(),this.isDisposeFormDom=!0}))}return this},unlinkToDom:function(){return this.__bg_lnk_dom&&this.isDisposeFormDom!==!0&&(a.unLinkToDom(this.__bg_lnk_dom,this.__bg_lnk_fn),this.__bg_lnk_dom=null),this},__linkToDomInit:function(){this.__isLinkToDomInit||(this.__isLinkToDomInit=!0,this.onDispose(function(){this.unlinkToDom()}))}})});var d=b.cleanData;b.cleanData=function(a){for(var e,f=0;null!=(e=a[f]);f++)try{b(e).triggerHandler(c)}catch(g){}d.apply(b,arguments)},b(window).unload(function(){a.isUnload=!0,b(document.body).remove(),b(document.documentElement).remove()})}(bingo,window.jQuery),function(a){"use strict";var b=function(b){var c={priority:50,tmpl:"",tmplUrl:"",replace:!1,include:!1,view:!1,compileChild:!0};return b=b(),a.isFunction(b)||a.isArray(b)?c.link=b:c=a.extend(c,b),c},c=function(c,d){return a.isNullEmpty(c)?void 0:(c=c.toLowerCase(),1==arguments.length?l.call(this,"_commands",c):this._commands[c]=b(d))},d=function(b,c){return a.isNullEmpty(b)?null:1==arguments.length?l.call(this,"_filters",b):this._filters[b]=c},e=function(b,c){var d=arguments.length;return 0==d?this._factorys:1==d?a.factory.factoryClass.NewObject().module(this).setFactory(b):c===!0?l.call(this,"_factorys",b):this._factorys[b]=c},f=function(b,c){return a.isNullEmpty(b)?void 0:1==arguments.length?l.call(this,"_factoryExtends",b):(c.$owner={module:this},this._factoryExtends[b]=c)},g=function(b,c){return a.isNullEmpty(b)?void 0:1==arguments.length?l.call(this,"_services",b):(c.$owner={module:this},this._services[b]=c)},h=function(b,c){if(!a.isNullEmpty(b)){var d=this._controllers[b];if(d||(d=this._controllers[b]={module:this,name:b,_actions:{},action:i}),a.isFunction(c)){var e=q;!e&&(q=this);var f=p;!f&&(p=q.app),r=d,c.call(d),r=null,!e&&(q=null),!f&&(p=null)}return d}},i=function(a,b){return 1==arguments.length?this._actions[a]:(b.$owner={conroller:this,module:this.module},this._actions[a]=b)},j=function(a,b){return 1==arguments.length?this._actions[a]:(b.$owner={conroller:null,module:this},this._actions[a]=b)},k=function(){return q||a.defaultModule(p)},l=function(b,c){var d=this[b][c];if(!d){var e=a.defaultModule(this.app);if(this!=e&&(d=e[b][c]),!d&&this.app!=s){var e=a.defaultModule();this!=e&&(d=e[b][c])}}return d},m=function(b,i){if(a.isNullEmpty(b))return null;var k=this._module[b];if(k||(k=this._module[b]={name:b,_services:{},_controllers:{},_commands:{},_filters:{},_factorys:{},_actions:{},action:j,service:g,controller:h,command:c,filter:d,factory:e,_factoryExtends:{},factoryExtend:f,app:this}),a.isFunction(i)){var l=p;!l&&(p=this),q=k,i.call(k),q=null,!l&&(p=null)}return k},n=function(){return this.module("_$defaultModule$_")},o={},p=null,q=null,r=null;a.extend({defaultModule:function(a){return a?a.defaultModule():s.defaultModule()},getModuleByView:function(b){return b?b.$getModule():a.defaultModule();
},module:function(a,b){var c=p||s;return c.module.apply(c,arguments)},defaultApp:function(){return s},getAppByView:function(a){return this.getModuleByView(a).app},app:function(b,c){if(this.isNullEmpty(b))return null;var d=o[b];return d||(d=o[b]={name:b,_module:{},module:m,defaultModule:n,action:function(a,b){var c=this.defaultModule();return c.action.apply(c,arguments)},service:function(a,b){var c=this.defaultModule();return c.service.apply(c,arguments)},controller:function(a,b){var c=this.defaultModule();return c.controller.apply(c,arguments)},command:function(a,b){var c=this.defaultModule();return c.command.apply(c,arguments)},filter:function(a,b){var c=this.defaultModule();return c.filter.apply(c,arguments)},factory:function(a,b){var c=this.defaultModule();return c.factory.apply(c,arguments)},factoryExtend:function(a,b){var c=this.defaultModule();return c.factoryExtend.apply(c,arguments)}}),a.isFunction(c)&&(p=d,c.call(d),p=null),d},service:function(a,b){var c=k();return c.service.apply(c,arguments)},factoryExtend:function(a,b){var c=k();return c.factoryExtend.apply(c,arguments)},controller:function(a,b){var c=k();return c.controller.apply(c,arguments)},action:function(b,c){if(a.isFunction(b)||a.isArray(b))return b;if(r)return r.action.apply(r,arguments);var d=k();return d.action.apply(d,arguments)},command:function(a,b){var c=k();return c.command.apply(c,arguments)},filter:function(a,b){var c=k();return c.filter.apply(c,arguments)},factory:function(a,b){var c=k();return c.factory.apply(c,arguments)}});var s=a.app("_$defaultApp$_")}(bingo),function(a){"use strict";var b=a.Class(function(){this.Prop({name:"",view:null,viewnode:null,viewnodeAttr:null,widthData:null,node:null,module:null,fn:null,params:null}),this.Define({reset:function(){return this.view(null).viewnode(null).viewnodeAttr(null).widthData(null).node(null).params(null),this},_newInjectObj:function(){var b=this.viewnodeAttr(),c=this.viewnode()||b&&b.viewnode(),d=this.view()||c&&c.view()||a.rootView(),e=this.node()||c&&c.node()||d.$node(),f=this.widthData()||c&&c.getWithData();return{node:e,$view:d,$viewnode:c,$attr:b,$withData:f,$command:b&&b.command,$injectParam:this.params()}},inject:function(a,b){var c=this.fn(),d=c.$injects,e=d&&d.length>0?this._newInjectObj():{},f=this._inject(a||this.viewnodeAttr()||this.viewnode()||this.view(),this.name(),e,{},!0);return b===!0?e:f},_inject:function(b,c,d,e,f){var g=this.fn();if(!g)throw new Error("not find factory: "+c);var h=g.$injects,i=[],j=this;if(h&&h.length>0){var k=null;a.each(h,function(a){k=a in d?d[a]:d[a]=j.setFactory(a)._inject(b,a,d,e,!1),i.push(k),j._doExtend(b,a,d,e)})}var l=g.apply(g.$owner||b,i)||{};return a.isString(c)&&c&&(d[c]=l,f&&this._doExtend(b,c,d,e)),l},_doExtend:function(a,b,c,d){if(d[b]!==!0){d[b]=!0;var e=this._getExtendFn(b);e&&this.setFactory(e)._inject(a,"",c,d,!1)}},_getParams:function(b){var c,d,e=b.indexOf(".")>0,f="",g=b;return e&&(f=b.split("."),g=f[1],f=f[0]),this.view()?(c=a.getAppByView(this.view()),d=e?c.module(f):a.getModuleByView(this.view())):(d=this.module(),c=d.app,e&&(d=c.module(f))),{app:c,module:d,name:g}},_getExtendFn:function(a){var b=this._getParams(a),c=b.module.factoryExtend(b.name);return c?e(c):null},_getFactoryFn:function(a){var b=this._getParams(a),c=b.module,d=b.name,f=c.factory(d,!0)||c.service(d);return f?e(f):null},setFactory:function(b){var c=null;return a.isFunction(b)||a.isArray(b)?(c=e(b),b=""):c=this._getFactoryFn(b),this.name(b).fn(c)}})});a.factory.factoryClass=b;var c=function(){};c.$injects=[];var d=/^\s*function[^(]*?\(([^)]+?)\)/i,e=function(b){if(b&&(b.$injects||b.$fn))return b.$fn||b;var e=c;if(a.isArray(b)){var f=a.clone(b,!1);e=b.$fn=f.pop(),e.$injects=f,e.$owner=b.$owner}else if(a.isFunction(b)){e=b;var g=e.toString(),f=[];g.replace(d,function(b,c){c&&a.each(c.split(","),function(b){b=a.trim(b),b&&f.push(b)})}),e.$injects=f}return e}}(bingo),function(a){"use strict";var b="isModel1212";a.isModel=function(a){return a&&a._isModel_==b},a.modelOf=function(b){return b=a.variableOf(b),a.isModel(b)?b.toObject():b};var c={_p_:null,_isModel_:b,toObject:function(b){var d=b||{};return a.eachProp(this,function(b,e){a.isVariable(d[e])?d[e](b):e in c||0==e.indexOf("_")||(d[e]=a.variableOf(b))}),d},fromObject:function(b,c){return b&&a.eachProp(b,a.proxy(this,function(b,d){d in this?a.isVariable(this[d])?this[d](b):this[d]=a.variableOf(b):c&&(this[d]=a.variable(b))})),this},toDefault:function(){this.fromObject(this._p_)}};a.extend(c,a.variable.eventDef),a.model=function(b,d){b=a.modelOf(b);var e={};return a.eachProp(b,function(b,c){e[c]=a.variable(b,e,d,c)}),a.extend(e,c),c.$view(d),e._p_=b,e}}(bingo),function(a){"use strict";var b=a.Class(function(){var b=function(b,e,f,g,h,i){i||(i=50);var j=a.isFunction(e),k=function(){var c;if(j)c=e.call(m);else{var d=b._view;c=a.datavalue(d,e),a.isUndefined(c)&&(c=a.datavalue(window,e))}return c},l=k(),m={_callback:f,dispose:d,_priority:i};if(a.isVariable(l)||a.isModel(l)){m.check=c,m.isChange=!1;var n=b._view;m.varo=l,l.$subs(function(a,c,d){f.call(m,a,c,d),b.publishAsync()},h||n,i)}else{var o=a.observer.compareLv;g=o>0?!0:g,g&&(l=a.clone(l,!0,!1,o)),m.check=function(){if(h&&h.isDisposed)return void(m.dispose&&m.dispose());var b=k(),c=g?!a.equals(b,l):b!=l;return c?(l=g?a.clone(b,!0,!1,o):b,f.call(this,b),!0):!1}}return m},c=function(){return!1},d=function(){a.clearObject(this)};this.Define({unSubscribe:function(b){return arguments.length>0?this._subscribes=a.linq(this._subscribes).where(function(){return this._callback==b?(this.dispose(),!1):!0}).toArray():(a.each(this._subscribes,function(){this.dispose()}),this._subscribes=[]),this},subscribe:function(c,d,e,f,g){var h=b(this,c,d,e,f,g);return this._subscribes.push(h),this._subscribes=a.linq(this._subscribes).sortDesc("_priority").toArray(),h},publish:function(){return this._publishTime=0,this._publish&&this._publish(),this},publishAsync:function(){if(!this._pbAsync_){var a=this;this._pbAsync_=setTimeout(function(){a._pbAsync_=null,a.publish()},5)}return this},_publishTime:0,_publish:function(){var b=!1,c=!1;if(a.each(this._subscribes,function(){return this.check?void(this.check()&&(b=!0)):void(c=!0)}),c&&(this._subscribes=a.linq(this._subscribes).where(function(){return this.check}).toArray()),b){if(this._publishTime<10){this._publishTime++;var d=this;setTimeout(function(){d.isDisposed||d._publish()},5)}}else this._publishTime=0}}),this.Initialization(function(b){this._view=b,this._subscribes=[],this.disposeByOther(b),this.onDispose(function(){a.each(this._subscribes,function(){this.dispose()})})})});a.observer=function(a){return a&&(a.__observer__||(a.__observer__=b.NewObject(a)))},a.observer.observerClass=b,a.observer.compareLv=2}(bingo),function(a){"use strict";a.ajax=function(a,b){return c.NewObject(a).view(b)},a.ajaxSync=function(b){return d.NewObject().view(b).dependent(a.noop)},a.ajaxSyncAll=function(a,b){return e(a,b)};var b=a.ajax.ajaxBaseClass=a.Class(function(){var a=function(a,b){var c=function(c,d,e){c!=a&&"alway"!=a||b.apply(e,d)};return c};this.Define({view:function(a){return 0==arguments.length?this._view:(this._view=a,this)},_callbacks:function(){return this._calls||(this._calls=$.Callbacks("stopOnFalse")),this._calls},_reject:function(a){this._calls&&this._callbacks().fire("fail",a||[],this)},_resolve:function(a){this._calls&&this._callbacks().fire("done",a||[],this)},success:function(b){return b&&this._callbacks().add(a("done",b)),this},error:function(b){return b&&this._callbacks().add(a("fail",b)),this},alway:function(b){return b&&this._callbacks().add(a("alway",b)),this},fromOther:function(a){if(a instanceof b){this._view=a._view,this._calls=a._calls;var c=a.$prop();this.$prop(c)}return this}})}),c=a.ajax.ajaxClass=a.Class(b,function(){this.Static({holdServer:function(a,b,c,d){return[b,c,d]},sendBefore:null});var b=function(a){a.isDisposed||setTimeout(function(){a.dispose()},1)},e=function(d,e){var f=d.view();if(d.isDisposed||f&&f.isDisposed)return void b(d);var g=d.holdParams(),h=a.clone(g?g.call(d):d.param()||{}),i=d.holdServer()||c.holdServer,j=null,k=d.url(),l="",m=d.cacheTo();if(m&&(l=d.cacheKey()||(d.cacheQurey()?k:k.split("?")[0]),a.equals(h,{})||(l=[l,window.JSON?JSON.stringify(h):$.getJSON(h)].join("_")),l=l.toLowerCase(),j=a.cacheToObject(m).max(d.cacheMax()).key(l),j.has())){var n=j.get();return a.isObject(n)&&(n=a.clone(n)),d.isCacheData=!0,d.async()?setTimeout(function(){d.isDisposed||(f&&f.isDisposed||d._resolve([n]),b(d))}):d._resolve([n]),void b(d)}var o=function(c,e,g){if(!d.isDisposed){if(!f||!f.isDisposed)try{var h=i(d,c,e,g);c=h[0],e=h[1],g=h[2],e===!0?(j&&j.key(l).set(c),d._resolve([c])):d._reject([c,!1,g])}catch(k){a.trace(k)}b(d)}};a.supportWorkspace||a.isNullEmpty(a.prdtVersion)||(k=[k,k.indexOf("?")>=0?"&":"?","_version_=",a.prdtVersion].join(""));var p=d.sendBefore()||c.sendBefore;$.ajax({type:e,url:k,data:h,async:d.async(),cache:d._ajaxCache(),dataType:d.dataType(),success:function(a,b,c){o(a,!0,c)},error:function(a,b,c){o(c,!1,a)},headers:d.headers(),beforeSend:p})};this.Prop({url:{$set:function(b){this.value=a.route(b)}},async:!0,dataType:"json",_ajaxCache:!1,param:{},cacheTo:null,cacheMax:-1,cacheQurey:!0,cacheKey:null,holdServer:null,holdParams:null,headers:null,sendBefore:null}),this.Define({isCacheData:!1,addToAjaxSync:function(a){return a||(a=d.lastSync(this.view())),a&&a.dependent(this),this},post:function(){return this.async()&&this.addToAjaxSync(),e(this,"post"),this.post=a.noop,this},get:function(){return this.async()&&this.addToAjaxSync(),e(this,"get"),this.get=a.noop,this}}),this.Initialization(function(a){this.url(a)})}),d=a.ajax.ajaxaSyncClass=a.Class(b,function(){this.Static({_syncList:[],getSyncList:function(a){return a&&a.__syncList_&&(a.__syncList_=[])||this._syncList},lastSync:function(a){var b=this.getSyncList(a),c=b.length;return c>0?b[c-1]:null}}),this.Define({resolve:function(){this._count=0,this._resolve(),this.dispose()},reject:function(){this._count=0,this._reject(),this.dispose()},dependent:function(b){this.addCount();var c=this;if(a.isFunction(b))try{b.call(this),setTimeout(function(){!c.isDisposed&&c.decCount()},1)}catch(d){a.trace(d),this.reject()}else this.view()||b.view()||b.view(this.view()),b.view()||this.view()||this.view(b.view()),b.error(function(){setTimeout(function(){!c.isDisposed&&c.reject()},1)}).success(function(){setTimeout(function(){!c.isDisposed&&c.decCount()},1)});return this},_count:0,addCount:function(a){return this._count+=0==arguments.length?1:a,this},decCount:function(){return this._count--,this._checkResolve(),this},_checkResolve:function(){this._count<=0&&this.resolve()}})}),e=function(a,b){if(!a)return null;var c=d.getSyncList(b),e=d.lastSync(b),f=d.NewObject();return e&&e.dependent(f),c.push(f),f.view(b).dependent(a),c.pop(),f}}(bingo),function(a,b){"use strict";var c={};a.extend({cmp:function(b){return a.isObject(b)?(b=a.extend({priority:100,async:!1,using:!1},b),void(c[b.name]=b)):c[b]},compile:function(a){return h.NewObject().view(a)},tmpl:function(a,b){return g.NewObject(a).view(b)},_startMvc:function(){a.using(function(){var b=a.rootView(),c=b.$node();b.onReadyAll(function(){a.__readyE.end()}),a.compile(b).fromNode(c).compile()},a.usingPriority.NormalAfter)},__readyE:a.Event(),ready:function(a){this.__readyE.on(a)}});a.compile.injectTmplWithDataIndex=function(a,b,c){return["<!--bingo_cmpwith_",b,"-->",a,"<!--bingo_cmpwith_",c,"-->"].join("")};a.compile.getNodeContentTmpl=function(a){var c=b(a),d="",e=c.children();return d=1===e.size()&&e.is("script")?e.html():c.html()};var d=null,e=a.compile.removeNode=function(a){d.append(a),d.html("")},f={compiledAttrName:["_bg_cpl",a.makeAutoId()].join("_"),isCompileNode:function(a){return"1"==a[this.compiledAttrName]},setCompileNode:function(a){a[this.compiledAttrName]="1"},_makeCommand:function(b,c,d,e){var f=b;if(a.isNullEmpty(f.tmplUrl)||a.tmpl(f.tmplUrl,c).cacheQurey(!0).async(!1).success(function(a){f.tmpl=a}).get(),f.compilePre&&a.factory(f.compilePre).view(c).node(d).inject(),f.as){var g=a.factory(f.as).view(c).node(d).inject();g&&g.length>0&&(e.list=(e.list||[]).concat(g))}return f},newTraverseParams:function(){return{node:null,parentViewnode:null,view:null,data:null,withData:null,action:null,withDataList:null}},traverseNodes:function(b){var c=b.node;if(1===c.nodeType){if(!this.isCompileNode(c)&&(this.setCompileNode(c),!this.analyzeNode(c,b)))return;var d=c.firstChild;if(d){var e=[];do e.push(d);while(d=d.nextSibling);this.traverseChildrenNodes(e,b)}}else if(3===c.nodeType&&!b.parentViewnode._isCompileText(c)){var f=a.view;b.parentViewnode._setCompileText(c);var g=c.nodeValue;f.textTagClass.hasTag(g)&&f.textTagClass.NewObject(b.view,b.parentViewnode,c,c.nodeName,g,b.withData)}c=b=null},traverseChildrenNodes:function(b,c){for(var d,f=[],g=[],h=c.withDataList,i=c.withData,j=a.clone(c,!1,!0),k=-1,l=0,m=b.length;m>l;l++)d=b[l],this.isComment(d)?g.push(d):(k=h?this.getTmplWithdataIndex(d):-1,-1==k?1!==d.nodeType&&3!==d.nodeType||(c.node=d,c.withData=i,this.traverseNodes(c),c=a.clone(j,!1,!0)):(i=c.withData=h[k],f.push(d)));(g.length>0||f.length>0)&&e(g.concat(f))},commentTest:/^\s*#/,isComment:function(a){return 8==a.nodeType&&this.commentTest.test(a.nodeValue)},getTmplWithdataIndex:function(b){if(8==b.nodeType){var c=b.nodeValue;if(!a.isNullEmpty(c)&&c.indexOf("bingo_cmpwith_")>=0){var d=parseInt(c.replace("bingo_cmpwith_",""),10);return 0>d?-2:d}}return-1},isTmplWithdataNode:function(b){if(8==b.nodeType){var c=b.nodeValue;return!a.isNullEmpty(c)&&c.indexOf("bingo_cmpwith_")>=0}return!1},checkTmplWithdataNode:function(a){var c=[],d=[];return a.each(function(){f.isTmplWithdataNode(this)?d.push(this):c.push(this)}),d.length>0&&e(d),b(c)},analyzeNode:function(c,d){var g=c.tagName,h=null;if(a.isNullEmpty(g))return!1;g=g.toLowerCase();var i=d.view.$getModule();h=i.command(g);var j=[],k=[],l=!0,m=null,n=!1,o=!1,p=!1,q="script"==g;q&&(l=!1);var r=function(a,b,c,d,e){n=b.replace,o=b.include,m=b.tmpl,p||(p=b.view),!l||(l=b.compileChild),a.push({aName:c,aVal:d,type:e,command:b})},s={},t=[],u=null,v=null;if(h)h=f._makeCommand(h,d.view,c,s),r(j,h,g,"","node");else{var w=c.attributes;if(w&&w.length>0){var x,y=null;do{x=w.length;for(var z=0,A=x;A>z;z++)if(y=w[z],v=y&&y.nodeName,a.inArray(v,t)<0)if(t.push(v),u=y&&y.nodeValue,q&&"type"==v&&(v=u),h=i.command(v)){if(h=f._makeCommand(h,d.view,c,s),h.compilePre&&(u=y&&y.nodeValue),r(j,h,v,u,"attr"),n||o)break}else u&&a.view.textTagClass.hasTag(u)&&k.push({node:y,aName:v,aVal:u})}while(x!=w.length)}}s.list&&a.each(s.list,function(){var b=this.name;return a.inArray(b,t)<0&&(t.push(b),h=i.command(b),r(j,h,b,this.value,"attr"),n||o)?!1:void 0});var B=null,C=a.view;if(j.length>0)if(n||o){var D=b(c);if(!a.isNullEmpty(m)){var E=b(b.parseHTML(m));o&&m.indexOf("bg-include")>=0&&E.find("[bg-include]").add(E.filter("[bg-include]")).each(function(){var c=b(this);if(a.isNullEmpty(c.attr("bg-include"))){var d=D.clone(!1);f.setCompileNode(d[0]),c.removeAttr("bg-include"),c.append(d)}});var F=d.view,G=d.parentViewnode,H=a.clone(d,!1,!0);E.each(function(){if(1===this.nodeType){p&&(d.view=C.viewClass.NewObject(this,F),d.action&&(d.view.$addAction(d.action),d.action=null),d.withData=null),B=C.viewnodeClass.NewObject(d.view,this,p?null:G,d.withData),d.parentViewnode=B;var b=j[j.length-1];C.viewnodeAttrClass.NewObject(d.view,B,b.type,b.aName,b.aVal,b.command)}l&&(d.node=this,f.traverseNodes(d)),d=a.clone(H,!1,!0)}).insertBefore(D)}e(D),l=!1}else{a.isNullEmpty(m)||b(c).html(m),p&&(d.view=C.viewClass.NewObject(c,d.view),d.action&&(d.view.$addAction(d.action),d.action=null),d.withData=null);var I=d.parentViewnode;B=C.viewnodeClass.NewObject(d.view,c,p?null:I,d.withData),d.parentViewnode=B;var J=null;a.each(j,function(){J=C.viewnodeAttrClass.NewObject(d.view,B,this.type,this.aName,this.aVal,this.command)})}if(!n&&!o&&k.length>0){var K=null;a.each(k,function(){K=C.textTagClass.NewObject(d.view,B||d.parentViewnode,this.node,this.aName,this.aVal,null,c)})}return l}};a.compile.tmplAjaxCache=!0,a.compile.tmplCacheMetas=/\.(htm|html|tmpl|txt)(\?.*)*$/i;var g=a.compile.tmplClass=a.Class(a.ajax.ajaxClass,function(){var b=a.ajax.ajaxClass.prototype,c={};this.Define({_initAjax:function(){if(this._init_tmpl_!==!0){this._init_tmpl_=!0;var b=this.view();b&&!b.isDisposed&&b._addReadyDep(),this.onDispose(function(){b&&!b.isDisposed&&b._decReadyDep()}).dataType("text"),a.compile.tmplCacheMetas.test(this.url())&&this.cacheTo(this.cacheTo()||c).cacheMax(this.cacheMax()<=0?350:this.cacheMax()),this._ajaxCache(a.supportWorkspace||a.compile.tmplAjaxCache)}},get:function(){this._initAjax(),b.get.call(this)},post:function(){this._initAjax(),b.post.call(this)}}),this.Initialization(function(a){this.base(a)})}),h=a.compile.templateClass=a.Class(function(){var c=/<\s*cmp\:(\S+)\s+(?:.|\n|\r)*?(?:\/>|>)/i,d=/<\s*cmp\:(\S+)\s+((?:.|\n|\r)+?)(?:\/>|>((?:.|\n|\r)*?)<\s*\/cmp:\1\s*>)/gi,e=/\s*(\S+)\s*=\s*(?:["]([^"]*?)["]|[']([^']*?)['])\s*/gi,g={loadTmpl:function(b,c){return this.$ow._loadTmplByUrl(b,a.proxy(this,c))},ajax:function(b,c,d){return this.$ow._ajax(b,c,a.proxy(this,d))},using:function(b){a.using(b),this.replace("")},replace:function(a,b){1==arguments.length?this.html(this.html().replace(this.find,a)):this.html(this.html().replace(a,b))},html:function(a){return 0==arguments.length?this.params.html:void(this.params.html=a)}},h=function(a){return c.test(a)},i=function(b,e,f){var h,k,l,m=[];for(d.lastIndex=0;h=d.exec(b);)k=h[1],l=a.cmp(k),l&&m.push(a.extend({find:h[0],name:k,node:{content:h[3],attr:j(h[2])},cmp:l,$ow:e.$ow,params:e},g));var n=[];return a.each(m,function(){var a=this.content;c.test(a)&&(n=n.concat(i(a,e,!1)))}),m=m.concat(n),f!==!1&&(m=a.linq(m).each(function(){this.getAllCmp=function(){return m}}).sortDesc(function(a){return a.cmp.priority}).toArray()),m},j=function(a){var b,c={};for(e.lastIndex=0;b=e.exec(a);)c[b[1]]=b[2]||b[3]||"";return c},k=function(b){return a.linq(b).where(function(){return this.cmp.async===!0}).contain()},l=function(a,b,c,d,e){f.traverseChildrenNodes(a,{node:null,parentViewnode:b,view:c,withData:null,action:e,withDataList:d})};this.Static({cacheMax:200}),this.Prop({action:null,async:!0,fromUrl:"",withData:null,withDataList:null,stop:!1,view:null}),this.Define({fromJquery:function(a){return this._jo=b(a),this},appendTo:function(a){return this._parentNode=b(a)[0],this},fromNode:function(a){return this.fromJquery(a)},_tsHtml:"",fromHtml:function(a){return h(a)?this._tsHtml=a:this.fromJquery(b.parseHTML(a,!0)),this},fromRender:function(b,c,d,e){var f=a.isString(b)?a.render(b,this.view()):b,g=[],h=e?e.$index:-1,i=f.render(c,d,e,h,g);return a.isNullEmpty(i)||this.fromHtml(i).withDataList(g),this},_isEnd:function(){return this.isDisposed||this.stop()||this.view()&&this.view().isDisposed},onCompilePre:function(a){return this.on("compilePre",a)},onCompiled:function(a){return this.on("compiled",a)},_compile:function(){var b=this._jo,c=this._parentNode||b&&b.parent()[0];if(c){var d=!this._parentNode;try{this.trigger("compilePre",[b]);var e=this.view(),g=a.view.viewnodeClass.getViewnode(c);e?g.view()!=e&&(g=e.$viewnode()):e=a.view(c)||g.view();var h=(this.withData(),this.withDataList()),i=this.action();l(b,g,e,h,i),h&&h.length>0&&(b=f.checkTmplWithdataNode(b)),d||b.appendTo(c),e._handel()}catch(j){a.trace(j)}this.trigger("compiled",[b]),this.dispose()}},compile:function(){if(this._isEnd())return this;if(this._jo)this._compile();else if(a.isNullEmpty(this._tsHtml)){if(this._parentNode&&this.fromUrl()){var b=this;this._loadTmplByUrl(this.fromUrl(),function(a){b.fromHtml(a).compile()})}}else{var c=this._tsHtml;this._tsHtml=null;var b=this;this._traverseHtml(c,function(a){b.fromHtml(a).compile(),b.dispose()})}return this},_traverseHtml:function(b,c){var d=this,e=i(b,{$ow:this,html:b||""});if(e.length>0){var f=k(e);f?a.ajaxSyncAll(function(){a.each(e,function(a){this.cmp.async===!0&&this.cmp.fn.call(this,this)})},this.view()).success(function(){d._traMakeHtml(e[0].html(),c)}):d._traMakeHtml(e,c)}},_traMakeHtml:function(b,c){var d=a.isArray(b)?b:i(b,{$ow:this,html:b||""}),e=this,f=b;d.length>0&&(a.each(d,function(a){this.cmp.async!==!0&&this.cmp.fn.call(this,this)}),f=d[0].html()),h(f)?e._traverseHtml(f,function(a){c&&c(a)}):c&&c(f)},_loadTmplByUrl:function(b,c){var d=this,e=this.view();return a.tmpl(b,e).success(function(a){d._isEnd()||c&&c(a)}).async(this.async()).get()},_ajax:function(b,c,d){var e=this,f=this.view();return a.ajax(b,f).param(c).success(function(a){e._isEnd()||d&&d(a)}).async(this.async()).post()}})}),i=a.compile.bindClass=a.Class(function(){var b={_cacheName:"__contextFun__",resetContextFun:function(a){a[b._cacheName]={}},evalScriptContextFun:function(c,d,e,f,g){d=d!==!1;var h=["content",d].join("_"),i=c[b._cacheName];if(i[h])return i[h];var j=c.$attrValue();try{var k=[d?"return ":"",j,";"].join("");return i[h]=new Function("$view","node","$withData","bingo",["with ($view) {",g?"with ($withData) {":"","return bingo.proxy(node, function (event) {",d?["try {",k,"} catch (e) {","if (bingo.isDebug) bingo.trace(e);","}"].join(""):k,"});",g?"}":"","}"].join(""))(e,f,g,a)}catch(l){return console.warn(["evalScriptContextFun: ",k].join("")),a.trace(l),c[h]=function(){return j}}}};this.Prop({view:null,node:null,viewnode:null,_filter:{$get:function(){var b=this.value;if(!a.isNullEmpty(b)){this.value="";var c=this.owner;this.filter=a.filter.createFilter(b,c.view(),c.node(),c.getWithData())}return this.filter}},$attrValue:{$get:function(){var a=this.owner._filter();return a?a.content:this.value},$set:function(a){if(this.value!=a){this.value=a;var c=this.owner;c._filter(a),b.resetContextFun(c)}}}}),this.Define({$eval:function(a){var c=this.getWithData(),d=b.evalScriptContextFun(this,!1,this.view(),this.node(),c);return d(a)},$resultsNoFilter:function(a){var c=this.getWithData(),d=b.evalScriptContextFun(this,!0,this.view(),this.node(),c);return d(a)},$results:function(a){var b=this.$resultsNoFilter(a);return this.$filter(b)},$getValNoFilter:function(){var b,c=this.$attrValue(),d=c,e=this.getWithData();return e&&(b=a.datavalue(e,d)),a.isUndefined(b)&&(e=this.view(),b=a.datavalue(e,d)),a.isUndefined(b)&&(e=window,b=a.datavalue(e,d)),b},$value:function(b){var c,d=this.$attrValue(),e=d,f=this.getWithData();return f&&(c=a.datavalue(f,e)),a.isUndefined(c)&&(f=this.view(),c=a.datavalue(f,e)),a.isUndefined(c)&&(f=window,c=a.datavalue(f,e)),arguments.length>0?(a.isVariable(c)?c(b):a.isUndefined(c)?a.datavalue(this.getWithData()||this.view(),e,b):a.datavalue(f,e,b),this):this.$filter(c)},$filter:function(a){var b=this._filter();return b?b.filter(a):a},getWithData:function(){return this._withData}}),this.Initialization(function(a,b,c,d){this._withData=d,this.view(a).node(b),this.content=c,this.$attrValue(c)})});a.compile.bind=function(a,b,c,d){return i.NewObject(a,b,c,d)};var j=a.compile.nodeBindClass=a.Class(a.linkToDom.LinkToDomClass,function(){this.Define({$getAttr:function(b){if(!a.hasOwnProp(this._attrs,b)){var c=this.node().attributes[b];c=c?c.nodeValue:"",this._attrs[b]=a.isNullEmpty(c)?null:i.NewObject(this.view(),this.node(),c,this.withData())}return this._attrs[b]},$attrValue:function(a,b){if(1==arguments.length){var c=this.node().attributes[a];return c?this.$getAttr(a).$attrValue():""}var c=this.$getAttr(a);return c&&c.$attrValue(b),this},$eval:function(a,b){var c=this.$getAttr(a);return c&&c.$eval(b)},$results:function(a,b){var c=this.$getAttr(a);return c&&c.$results(b)},$value:function(a,b){var c=this.$getAttr(a);if(c)return 1==arguments.length?c.$value():(c.$value(b),this)}}),this.Prop({view:null,node:null,withData:null}),this.Initialization(function(b,c,d){this.base(),this.withData(d).view(b).node(c),this.linkToDom(c),this._attrs={},this.onDispose(function(){var b=this._attrs;a.eachProp(b,function(a,b){a.dispose&&a.dispose()})})})});a.compile.bindNode=function(a,b,c){return j.NewObject(a,b,c)},b(function(){d=b("<div></div>"),a._startMvc()})}(bingo,window.jQuery),function(a){"use strict";a.view=function(a){var b=$(a);if(0==b.size())return null;var d=c.getViewnode(b[0]);return d?d.view():null};var b=null;a.rootView=function(){return b};var c=(a.view.viewClass=a.Class(a.linkToDom.LinkToDomClass,function(){this.Define({_setParent:function(a){a&&(this.$parentView(a),a._addChild(this))},_addChild:function(a){this.$children.push(a)},_removeChild:function(b){var c=this.$children;c=a.removeArrayItem(b,c),this.$children=c},_compile:function(){var a=this.$viewnode();a.isDisposed||a._compile()},_action:function(){var b=this;if(this._actions.length>0){this.end("_actionBefore_");var c=this._actions;this._actions=[],a.each(c,function(){a.factory(this).view(b).inject()})}var d=this.$viewnode();d.isDisposed||d._action(),this.isDisposed||this._isReadyDec_===!0||(this._isReadyDec_=!0,setTimeout(function(){b._decReadyDep()},10))},_link:function(){var a=this.$viewnode();a.isDisposed||a._link()},_handel:function(){this._action(),this._compile(),this._link(),this._handleChild()},_handleChild:function(){a.each(this.$children,function(){this.isDisposed||this._handel()})},$isReady:!1,_sendReady:function(){this._sendReady=a.noop;var b=this;a.ajaxSyncAll(function(){b.end("_initdatasrv_")},this).alway(function(){a.ajaxSyncAll(function(){b.end("_initdata_")},b).alway(function(){b.end("_ready_"),b.$isReady=!0,b._decReadyParentDep(),b.$update()})})},onActionBefore:function(a){return this.on("_actionBefore_",a)},onInitDataSrv:function(a){return this.on("_initdatasrv_",a)},onInitData:function(a){return this.on("_initdata_",a)},onReady:function(a){return this.on("_ready_",a)},onReadyAll:function(a){return this.on("_readyAll_",a)},_addReadyDep:function(){var b=this.__readySync;return b||(b=this.__readySync=a.ajaxSync(this).success(a.proxy(this,function(){this.isDisposed||this._sendReady()}))),!b.isDisposed&&b.addCount(),this},_decReadyDep:function(){var a=this.__readySync;return a&&!a.isDisposed&&a.decCount(),this},_addReadyParentDep:function(){var b=this.__readyParentSync;return b||(b=this.__readyParentSync=a.ajaxSync(this).success(a.proxy(this,function(){if(!this.isDisposed){this.end("_readyAll_");var a=this.$parentView();a&&0==a.disposeStatus&&a._decReadyParentDep()}}))),!b.isDisposed&&b.addCount(),this},_decReadyParentDep:function(){var a=this.__readyParentSync;return a&&!a.isDisposed&&a.decCount(),this},$setModule:function(a){return a&&(this._module=a),this},$getModule:function(){return this._module||a.defaultModule(this.$getApp())},$setApp:function(a){return a&&(this._app=a),this},$getApp:function(){return this._app||(this._module?this._module.app:a.defaultApp())},$addAction:function(a){return a&&this._actions.push(a),this},$getViewnode:function(a){return c.getViewnode(a||this.$node())},$getNode:function(a){var b=this.__$node||(this.__$node=$(this.$node()));return a?b.find(a):b},$update:function(){return this.$publish()},$updateAsync:function(){return this.$isReady===!0&&this.$observer().publishAsync(),this},$apply:function(a,b){return a&&(this.$update(),a.apply(b||this),this.$updateAsync()),this},$proxy:function(a,b){var c=this;return function(){c.$update(),a.apply(b||this,arguments),c.$updateAsync()}},$publish:function(){return this.$isReady&&this.$observer().publish(),this},$observer:function(){return a.observer(this)},$subscribe:function(a,b,c,d,e){return this.$observer().subscribe(a,b,c,d,e)},$subs:function(a,b,c,d,e){return this.$subscribe.apply(this,arguments)},$using:function(b,c){this._addReadyDep();var d=this;return a.using(b,function(){d.isDisposed||(c&&c(),d._decReadyDep())},a.usingPriority.NormalAfter),this},$timeout:function(a,b){this._addReadyDep();var c=this;return setTimeout(function(){c.isDisposed||(a&&a(),c.$updateAsync()._decReadyDep())},b||1)}}),this.Prop({$parentView:null,$node:null,$viewnode:null}),this.Initialization(function(b,c){this.base(),this.linkToDom(b),a.extend(this,{$children:[],_module:null,_app:null,_actions:[]}),this.$node(b),c&&(this._setParent(c),c._addReadyParentDep()),this._addReadyDep(),this._addReadyParentDep(),this.onDispose(function(){var b=this.$parentView();b&&0==b.disposeStatus&&b._removeChild(this),this.isDisposeFormDom||(this.$viewnode().isDisposed||this.$viewnode().dispose(),a.each(this.$children,function(a){a&&a.dispose()}))})})}),a.view.viewnodeClass=a.Class(a.linkToDom.LinkToDomClass,function(){this.Static({vnName:["bg_cpl_node",a.makeAutoId()].join("_"),vnDataName:["bg_domnode",a.makeAutoId()].join("_"),getViewnode:function(a){return a?this.isViewnode(a)?$(a).data(this.vnDataName):this.getViewnode(a.parentNode||document.documentElement):null},setViewnode:function(a,b){a[this.vnName]="1",$(a).data(this.vnDataName,b)},removeViewnode:function(a){var b=a.node;"0"==b[this.vnName],$(b).removeData(this.vnDataName)},isViewnode:function(a){return"1"==a[this.vnName]}}),this.Define({_setParent:function(a){a?(this.parentViewnode(a),a._addChild(this)):this.view().$viewnode(this)},_addChild:function(a){this.children.push(a)},_removeChild:function(b){var c=this.children;c=a.removeArrayItem(b,c),this.children=c},_sortAttrs:function(){this.attrList.length>1&&(this.attrList=a.linq(this.attrList).sortDesc("_priority").toArray())},_compile:function(){this._isCompiled||(this._isCompiled=!0,this._sortAttrs(),a.each(this.attrList,function(){this.isDisposed||this._compile()})),a.each(this.children,function(){this.isDisposed||this._compile()}),this._resetCmpText()},_action:function(){this._isAction||(this._isAction=!0,a.each(this.attrList,function(){this.isDisposed||this._action()})),a.each(this.children,function(){this.isDisposed||this._action()})},_link:function(){this._isLinked||(this._isLinked=!0,a.each(this.attrList,function(){this.isDisposed||this._link()})),a.each(this.textList,function(){this.isDisposed||this._link()}),a.each(this.children,function(){this.isDisposed||this._link()})},$getAttr:function(b){b=b.toLowerCase();var c=null;return a.each(this.attrList,function(){return this.attrName==b?(c=this,!1):void 0}),c},$html:function(b){var c=this.node();return arguments.length>0?($(c).html(""),a.compile(this.view()).fromHtml(b).appendTo(c).compile(),this):$(c).html()},getWithData:function(){return this._withData},_isCompileText:function(b){return b?a.inArray(b,this._textNodes)>=0:!1},_setCompileText:function(a){this._textNodes.push(a)},_rmCompileText:function(b){this._textNodes=a.removeArrayItem(b,this._textNodes)},_resetCmpText:function(){this._textNodes=a.linq(this._textNodes).where(function(){return!d(this)}).toArray();var b=a.rootView().$viewnode();this!=b&&b._resetCmpText()}}),this.Prop({view:null,node:null,parentViewnode:null}),this.Initialization(function(b,d,e,f){this.base(),this.linkToDom(d),c.setViewnode(d,this),a.extend(this,{attrList:[],textList:[],children:[],_isCompiled:!1,_isLinked:!1,_isAction:!1,_textNodes:[]}),this._withData=f||e&&e.getWithData(),this.view(b).node(d)._setParent(e),this.onDispose(function(){this.isDisposeFormDom||(c.removeViewnode(this),a.each(this.children,function(a){a&&a.dispose()})),a.each(this.attrList,function(a){a&&a.dispose()}),a.each(this.textList,function(a){a&&a.dispose()});var b=this.parentViewnode();b&&0==b.disposeStatus&&b._removeChild(this),this.attrList=this.children=this.textList=this._textNodes=[]})})})),d=(a.view.viewnodeAttrClass=a.Class(a.compile.bindClass,function(){this.Define({_priority:50,_compile:function(){var b=this.command,c=b.compile;c&&a.factory(c).viewnodeAttr(this).widthData(this.getWithData()).inject()},_action:function(){var b=this.command,c=b.action;c&&a.factory(c).viewnodeAttr(this).widthData(this.getWithData()).inject()},_link:function(){var b=this.command,c=b.link;c&&a.factory(c).viewnodeAttr(this).widthData(this.getWithData()).inject(),this._init()},onChange:function(a){return this.on("onChange",a)},onInit:function(a){return this.on("onInit",a)},$subs:function(a,b,c){if(1==arguments.length){b=a;var d=this;a=function(){return d.$results()}}var e=b,d=this;return b=function(a){var b=e.apply(this,arguments);return d.trigger("onChange",[a]),b},this.view().$subs(a,b,c,this,100),this},
$subsResults:function(b,c){var d=!1;return this.$subs(a.proxy(this,function(){var b=this.$resultsNoFilter();return d=a.isVariable(b)||a.isModel(b),d?b:this.$filter(b)}),a.proxy(this,function(a){b&&b.call(this,d?this.$filter(a):a)}),c)},$subsValue:function(b,c){var d=!1;return this.$subs(a.proxy(this,function(){var b=this.$getValNoFilter();return d=a.isVariable(b)||a.isModel(b),d?b:this.$filter(b)}),a.proxy(this,function(a){b&&b.call(this,d?this.$filter(a):a)}),c)},_init:function(){this.__isinit=!0;var b=this.__initParam;if(b){var c=b.p,d=b.p1;this.__initParam=null;var e=a.isFunction(c)?c.call(this):c;e=a.modelOf(a.variableOf(e)),d.call(this,e),this.trigger("onInit",[e])}},$init:function(a,b){if(1==arguments.length){b=a;var c=this;a=function(){return c.$attrValue()}}return this.__initParam={p:a,p1:b},this.__isinit&&this._init(),this},$initResults:function(b){return this.$init(a.proxy(this,function(){return this.$results()}),b)},$initValue:function(b){return this.$init(a.proxy(this,function(){return this.$value()}),b)}}),this.Initialization(function(a,b,c,d,e,f){this.base(a,b.node(),e,b.getWithData()),this.viewnode(b),b.attrList.push(this),this.type=c,this.attrName=d.toLowerCase(),this.command=f,this._priority=f.priority||50})}),function(a){try{return!(a&&a.parentNode&&a.parentNode.parentNode&&a.parentNode.parentElement)}catch(b){return!0}}),e=a.view.textTagClass=a.Class(function(){this.Static({_regex:/\{\{(.+?)\}\}/gi,_regexRead:/^\s*:\s*/,hasTag:function(a){return this._regex.lastIndex=0,this._regex.test(a)}}),this.Define({_link:function(){if(!this._isLinked){this._isLinked=!0;var b=this.attrValue,c=[],d=this,f=this.node(),g=f.nodeType,h=(this.attrName,this.view()),i=this.parentNode(),j=!1,k=null,l=function(a){3!=g?f.nodeValue=a:(m(),k=$.parseHTML(a),$(k).insertAfter(f))},m=function(){k&&a.compile.removeNode(k),k=null},n=b.replace(e._regex,function(b,g,i,k){var l={};e._regexRead.test(g)?g=g.replace(e._regexRead,""):j=!0;var m=a.compile.bind(h,f,g,d.getWithData());l.text=b,l.context=m,c.push(l);var n=m.$results();return l.value=a.toStr(a.variableOf(n))});if(l(n),n="",j){a.each(c,function(b){var c=b.context;b.text;h.$subs(function(){return d._isRemvoe()?a.makeAutoId():c.$results()},function(c){return d._isRemvoe()?void d.dispose():(b.value=a.toStr(c),void o())},!1,d,100)});var o=function(){var d=b;a.each(c,function(a){var b=a.text,c=a.value;d=d.replace(b,c)}),l(d)}}var p=function(){m(),a.each(c,function(a){a.context&&a.context.dispose()}),c=null};this.onDispose(function(){d=k=f=h=i=null,p()}),j||setTimeout(a.proxy(this,function(){this.dispose()}),1)}},_isRemvoe:function(){var a=this.node&&this.node();return this.isDisposed||d(this.parentNode()||a)},getWithData:function(){return this._withData}}),this.Prop({view:null,node:null,parentNode:null,viewnode:null}),this.Initialization(function(b,c,d,e,f,g,h){this._withData=g||c.getWithData(),this.view(b).viewnode(c).node(d).parentNode(h),c.textList.push(this),this.attrName=e&&e.toLowerCase(),this.attrValue=f,d.nodeValue="",this.onDispose(function(){if(3==this.node().nodeType){var b=this.viewnode();b&&0==b.disposeStatus&&(b.textList=a.removeArrayItem(this,b.textList),b._rmCompileText(this.node()))}})})});!function(){var c=document.documentElement,d=a.view;b=d.viewClass.NewObject(c),d.viewnodeClass.NewObject(b,c,null,null)}()}(bingo),function(a){"use strict";a.filter.createFilter=function(a,c,d,e){return b.createFilter(a,c,d,e)},a.filter.regex=/[|]+[ ]?([^|]+)/g;var b={hasFilter:function(b){return a.filter.regex.lastIndex=0,a.filter.regex.test(b)},removerFilterString:function(b){if(a.isNullEmpty(b)||!this.hasFilter(b))return b;a.filter.regex.lastIndex=0;var c=b.replace(a.filter.regex,function(a,b){return 0==a.indexOf("||")?a:""});return a.trim(c)},getFilterStringList:function(b){if(a.isNullEmpty(b)||!this.hasFilter(b))return[];var c=[];return a.filter.regex.lastIndex=0,b.replace(a.filter.regex,function(a,b){0!=a.indexOf("||")&&c.push(b)}),c},getScriptContextFun:function(b,c,d,e,f){var g=b._ca||(b._ca={}),h="cont";if(g[h])return g[h];var i=["{",c,"}"].join(""),j=["return ",i,";"].join("");try{return g[h]=new Function("$view","$node","$withData","bingo",["with ($view) {",f?"with ($withData) {":"","return function ($data) {","try {",j,"} catch (e) {","if (bingo.isDebug) bingo.trace(e);","}","};",f?"}":"","}"].join(""))(d,e,f,a)}catch(k){return a.trace(k),g[h]=function(){return c}}},hasFilterParam:function(a){return a.indexOf(":")>=0},getFilterParamName:function(b){var c=b.split(":");return a.trim(c[0])},getFilterByView:function(b,c){var d=b?b.$getModule(c).filter(c):a.filter(c);return d},paramFn:function(a,c,d,e,f){return b.getScriptContextFun(a,c,d,e,f)},getFilterObjList:function(c,d,e,f){var g=this.getFilterStringList(e);if(0==g.length)return[];var h=[];return a.each(g,function(e){if(e=a.trim(e),!a.isNullEmpty(e)){var g={name:null,paramFn:null,fitlerFn:null},i=null;if(b.hasFilterParam(e)){if(g.name=b.getFilterParamName(e),i=b.getFilterByView(c,g.name),!i)return;i=c?a.factory(i).view(c).node(d).inject():i(),g.paramFn=b.paramFn(g,e,c,d,f)}else{if(g.name=e,i=b.getFilterByView(c,g.name),!i)return;i=c?a.factory(i).view(c).node(d).inject():i()}g.fitlerFn=i,g.fitlerVal=function(a){if(!this.fitlerFn)return a;var b=null;return this.paramFn&&(b=this.paramFn(a),b&&(b=b[this.name])),this.fitlerFn(a,b)},h.push(g)}}),h},createFilter:function(c,d,e,f){var g={contentOrg:c},h=b.hasFilter(c);return g._filters=h?b.getFilterObjList(d,e,c,f):[],g.content=b.removerFilterString(c),g.contentFT=c.replace(g.content,""),g._filters.length>0?g.filter=function(b){var c=a.variableOf(b);return a.each(this._filters,function(){c=this.fitlerVal(c)}),c}:g.filter=function(a){return a},g}}}(bingo),function(a){"use strict";a.render=function(b,c,e,f){a.render.regex.lastIndex=0,d.lastIndex=0,b=b.replace(d,""),0==b.indexOf("#")&&b.indexOf("{")<0&&(c.__render_tmpls__$&&(b=c.__render_tmpls__$[b]),b&&0==b.indexOf("#")&&b.indexOf("{")<0&&(b=$(b).html()));var i=null;if(!a.isNullEmpty(b)&&(i=a.render.regex.test(b)?g(b,c,e):null)){i=h(i);var j=null;c&&!c.isDisposed?(j=c.__render_tmpls__$||(c.__render_tmpls__$={}),i.tmpls&&a.extend(j,i.tmpls)):j=i.tmpls||{},f&&j!=f&&a.extend(j,f),i.tmpls=j,c&&i.tmpls&&(c.__render_tmpls__$=a.extend({},c.__render_tmpls__$,i.tmpls))}return{render:function(a,d,f,g,h,j){return i?l(i,c,e,a,d,f,g,h,j):b}}},a.render.regex=/\{\{\s*(\/?)(\:|if|else|for|tmpl|header|footer|empty|loading)(.*?)\}\}/g;var b=/[ ]*([^ ]+)[ ]+in[ ]+(?:(.+)[ ]+tmpl[ ]*=[ ]*(.+)[\/]|(.+))*/g,c=/\/\s*$/,d=/<!--\s*\#(?:.|\n)*?-->/g,e=function(c,d,e,g,h,i,j,k,l){var m={isIf:d===!0,ifReturn:!0,isElse:j===!0,isForeach:k===!0,isEnd:e===!0,isTag:g===!0,role:a.isUndefined(l)?0:l,content:c,forParam:null,filterContext:null,fn:a.noop,flt:null,children:[],tmplId:""};if(m.isTag&&!m.isEnd){if(m.filterContext=c,m.isForeach){var n=m.content;b.lastIndex=0,n.replace(b,function(){var b=m.forParam={};b.itemName=arguments[1];var c=arguments[2];b.tmpl=a.trim(arguments[3]),a.isNullEmpty(c)&&(c=arguments[4]),c=a.trim(c);var d=a.filter.createFilter(c,h,i);m.content=d.content,m.flt=d,b.dataName=m.content=d.content})}else{var o=a.filter.createFilter(c,h,i);m.content=o.content,m.flt=o}var p=f(m.content,h);m.fn=function(b,c){return p(b,c,a)}}return m},f=function(b,c){if(a.isNullEmpty(b))return a.noop;var d=b;try{return new Function("$view","$data","bingo",["try {",c?"with ($view) {":"","with ($data || {}) {","return "+b+";","}",c?"}":"","} catch (e) {",'return bingo.isDebug ? ("Error: " + (e.message || e)) : e.message;',"} finally {","$data = null;","}"].join(""))}catch(e){if(a.isDebug){var f=["Error:",e.message||e," render:",d].join("");throw new Error(f)}return function(){return e.message}}},g=function(b,d,f){var g=[],h=0,i=[],j=!1,k=0,l="",m=null,n=function(a){return a>0?i[a-1].children:g},o=function(a){return a>0?i.pop().children:g};return b.replace(a.render.regex,function(b,p,q,r,s,t){var u=t.slice(h,s),v=a.isNullEmpty(u)?null:e(u),w=i.length,x=n(w),y="/"==p,z="tmpl"==q;if(j)return z&&(y?(k--,j=k>0):k++),m.content=[m.content,u].join(""),j?m.content=[m.content,b].join(""):a.isNullEmpty(l)||(m.content=[m.content,"</script>"].join(""),l="",m=null),void(h=s+b.length);if(j=z,z)return v&&x.push(v),h=s+b.length,k=1,l=a.trim(r),m=e(""),void(a.isNullEmpty(l)||(0==l.indexOf("#")?(g.push(m),m.tmplId=l,l=""):(x.push(m),m.content=[m.content,'<script type="',l,'">'].join(""))));var A=0==r.indexOf(" ");!a.isNullEmpty(r)&&(r=a.trim(r));var B="else"==q;B&&(a.isNullEmpty(r)?r="true":A?(r=a.trim(r),r=a.isNullEmpty(r)?"true":r):B=!1);var C="if"==q||B,D="for"==q,E=!1;D&&(E=c.test(r));var F=0;switch(q){case"header":F=1;break;case"footer":F=2;break;case"empty":F=3;break;case"loading":F=4}var G=e(r,C,y,!0,d,f,B,D,F);B?(x=o(w),v&&x.push(v),w=i.length,x=n(w),x.push(G),i.push(G)):y?(x=o(w),v&&x.push(v),C&&(w=i.length,x=n(w),x.push(G))):(x=n(w),v&&x.push(v),x.push(G),(C||D&&!E||F>0)&&i.push(G)),h=s+b.length}),h<b.length&&g.push(e(b.slice(h))),g},h=function(b){var c={header:null,footer:null,empty:null,loading:null,tmpls:null,body:[]};return a.each(b,function(){if(a.isNullEmpty(this.tmplId))switch(this.role){case 1:c.header=this;break;case 2:c.footer=this;break;case 3:c.empty=this;break;case 4:c.loading=this;break;default:c.body.push(this)}else c.tmpls||(c.tmpls={}),c.tmpls[this.tmplId]=this.content}),c},i=function(a,b){for(var c,d=b;d>=0&&(c=a[d],!c.isEnd||!c.isIf);d--)if(c.isIf&&c.ifReturn)return!0;return!1},j=function(b,c,d,e,f,g,k){var m=[];return a.each(b,function(n,o){if(n.isTag){if(!n.isEnd)if(n.isForeach){var p=n.forParam;if(!p)return;var q=p.tmpl,r=n.flt.filter(n.fn(c,e),e),s="";if(a.isNullEmpty(q)){var t=n.compileData;t||(t=n.compileData=h(n.children),t.tmpls=k.tmpls,n.children=[]),s=l(t,c,d,r,p.itemName,e,f,g)}else{if(!n.__renderObj){var u=0!=q.indexOf("#");if(u?a.tmpl(q,c).success(function(a){s=a}).cacheQurey(!0).async(!1).get():s=k.tmpls&&k.tmpls[q]?k.tmpls[q]:$(q).html(),a.isNullEmpty(s))return;n.__renderObj=a.render(s,c,d,k.tmpls)}s=n.__renderObj.render(r,p.itemName,e,f,g)}m.push(s)}else if(n.isIf){if(n.isElse){if(i(b,o-1)||!(n.ifReturn=n.flt.filter(n.fn(c,e),e)))return}else if(!(n.ifReturn=n.flt.filter(n.fn(c,e),e)))return;var v=j(n.children,c,d,e,f,g,k);m.push(v)}else{var w=n.flt.filter(n.fn(c,e),e);m.push(w)}}else m.push(n.content)}),m.join("")},k=function(b,c,d,e,f,g,h,i,k,l,m){var n=i?a.clone(i,!1):{};n.$parent=i,n.itemName=f,n[[f,"index"].join("_")]=n.$index=g,n[[f,"count"].join("_")]=n.$count=h,n[[f,"first"].join("_")]=n.$first=0==g,n[[f,"last"].join("_")]=n.$last=g==h-1;var o=g%2==0;n[[f,"odd"].join("_")]=n.$odd=o,n[[f,"even"].join("_")]=n.$even=!o,n[f]=e,l&&l.push(n);var p=l?l.length-1:-1,q=j(b,c,d,n,g,l,m);return l?a.compile.injectTmplWithDataIndex(q,p,k):q},l=function(b,c,d,e,f,g,h,i,j){a.isString(f)||(f="item");var l=[],m="",n=i?i.length:-1,o=null;n>=0&&(o=a.compile.injectTmplWithDataIndex("",-1,n-1),l.push(o));var p=a.isArray(e),q=p?e.length:0;if(b.header&&(m=k(b.header.children,c,d,null,f,-1,q,g,h,i,b),j&&(m=j(m,"header",null,-1)),l.push(m)),a.isNull(e)){var r=b.loading||b.empty;r&&(m=k(r.children,c,d,null,f,-1,q,g,h,i,b),j&&(m=j(m,b.loading===r?"loading":"empty",null,-1)),l.push(m))}else if(p||(e=[e]),0==e.length){var r=b.empty||b.loading;r&&(m=k(r.children,c,d,null,f,-1,q,g,h,i,b),j&&(m=j(m,b.loading===r?"loading":"empty",null,-1)),l.push(m))}else{var s=b.body;a.each(e,function(a,e){m=k(s,c,d,a,f,e,q,g,h,i,b),j&&(m=j(m,"body",a,e)),l.push(m)})}return b.footer&&(m=k(b.footer.children,c,d,null,f,-1,q,g,h,i,b),j&&(m=j(m,"footer",null,-1)),l.push(m)),n>=0&&l.push(o),l.join("")}}(bingo),function(a,b){"use strict";a.factory("$rootView",function(){return a.rootView()}),a.factory("$compile",["$view",function(b){return function(){return a.compile(b)}}]),a.factory("$tmpl",["$view",function(b){return function(c){return a.tmpl(c,b)}}]),a.factory("$node",["node",function(a){return b(a)}]),a.factory("$factory",["$view",function(b){return function(c){return a.factory(c).view(b)}}]),a.factory("$ajax",["$view",function(b){var c=function(c){return a.ajax(c,b)};return c.syncAll=function(c){return a.ajaxSyncAll(c,b)},c}]),a.factory("$filter",["$view","node","$withData",function(b,c,d){return function(e,f){return a.filter.createFilter(e,b,c,f||d)}}]),a.factory("$var",["$view",function(b){return function(c,d){return a.variable(c,d,b)}}]),a.factory("$model",["$view",function(b){return function(c){return a.model(c,b)}}]),a.factory("$bindContext",["$view","node","$withData",function(b,c,d){return function(e,f,g){return f||(f=c),g||(g=d),a.compile.bind(b,f,e,g)}}]),a.factory("$nodeContext",["$view","node","$withData",function(b,c,d){return function(e,f){return e||(e=c),f||(f=d),a.compile.bindNode(b,e,f)}}]),a.factory("$observer",["$view",function(b){return a.observer(b)}]),a.each(["$subscribe","$subs"],function(b){a.factory(b,["$observer","$attr",function(a,b){return function(c,d,e){return a.subscribe(c,d,e,b)}}])}),a.factory("$module",["$view",function(b){return function(c){var d=0==arguments.length?b.$getModule():b.$getApp().module(c);return d?{$service:function(c){var e=d.service(c);return e?a.factory(e).view(b).inject():null},$controller:function(c){var e=d.controller(c);return e?{$action:function(c){var d=e.action(c);return d?a.factory(d).view(b).inject():null}}:null}}:null}}]),a.factory("$route",function(){return function(b){return a.route(b)}}),a.factory("$routeContext",function(){return function(b){return a.routeContext(b)}});var c={},d=a.cacheToObject(c).max(100);a.factory("$cache",function(){return d});var e={},f=a.cacheToObject(e).max(20);a.factory("$param",["$view",function(a){return function(a,b){if(f.key(a),arguments.length<=1){var c=f.get();return f.clear(),c}f.set(b)}}])}(bingo,window.jQuery),function(a){a.factory("$linq",function(){return function(b){return a.linq(b)}})}(bingo),function(a){var b="bg-route",c="_bg_location_";a.location=function(e){a.isString(e)&&(e='[bg-name="'+e+'"]');var f=null;a.isString(e)?f=$(e):e&&(f=$(e).closest("["+b+"]"));var g=!!(f&&f.size()>0);g||(f=$(document.documentElement));var h=f.data(c);return h||(h=d.NewObject().ownerNode(f).linkToDom(f).isRoute(g).name(f.attr("bg-name")||""),f.data(c,h)),h},a.location.onHref=a.Event(),a.location.onHrefBefore=a.Event(),a.location.onLoadBefore=a.Event(),a.location.onLoaded=a.Event(),a.location.href=function(c,e){var f=e instanceof d?e:a.location(e);f.isRoute()&&(f.ownerNode().attr(b,c),f.trigger("onChange",[c]))};var d=a.location.Class=a.Class(a.linkToDom.LinkToDomClass,function(){this.Prop({ownerNode:null,isRoute:!1,name:""}),this.Define({queryParams:function(){return this.routeParams().queryParams},routeParams:function(){var b=this.url(),c=a.routeContext(b);return c.params},href:function(b,c){a.location.href(b,a.isNullEmpty(c)?this:c)},reload:function(a){return this.href(this.url(),a)},onLoaded:function(a){return this.on("onLoaded",a)},onChange:function(a){return this.on("onChange",a)},url:function(){return this.isRoute()?this.ownerNode().attr(b):window.location+""},hash:function(){var a=this.url()||"";a=a.split("#"),a=a[a.length-1].replace(/^[#\s]+/,"")},toString:function(){return this.url()},views:function(){return a.view(this.ownerNode()).$children},close:function(){this.isRoute()&&this.trigger("onCloseBefore")!==!1&&this.ownerNode().remove()},onCloseBefore:function(a){return this.on("onCloseBefore",a)},onClosed:function(a){return this.__closeed!==!0&&(this.__closeed=!0,this.onDispose(function(){this.trigger("onClosed")})),this.on("onClosed",a)}})});a.factory("$location",["node",function(b){return a.location(b)}])}(bingo),function(a){a.factory("$render",["$view","node",function(b,c){return function(d){return a.render(d,b,c)}}])}(bingo),function(a){a.factory("$timeout",["$view",function(a){return function(b,c){return a.$timeout(function(){b&&b()},c)}}])}(bingo),function(a){"use strict";a.cmp({name:"master",priority:900,async:!0,fn:function(a){a.loadTmpl(a.node.attr.file,function(a){this.replace(a)})}}),a.cmp({name:"include",async:!0,fn:function(a){a.loadTmpl(a.node.attr.file,function(a){this.replace(a)})}}),a.cmp({name:"using",using:!0,fn:function(a){a.using(a.node.attr.file)}}),a.cmp({name:"contentholder",priority:90,fn:function(b){var c=b.node,d=c.attr.id,e=a.linq(b.getAllCmp()).where(function(){return"content"==this.name&&this.node.attr.id==d}).first();b.replace(e?e.node.content:"")}}),a.cmp({name:"content",priority:85,fn:function(a){a.replace("")}})}(bingo),function(a){a.each(["bg-action","bg-action-add"],function(b){var c="bg-action-add"==b;a.command(b,function(){return{priority:c?995:1e3,tmpl:"",tmplUrl:"",replace:!1,include:!1,view:!c,compileChild:c,compilePre:null,action:null,link:null,compile:["$view","$compile","$node","$attr",function(b,d,e,f){var g=f.$attrValue(),h=null;if(a.isNullEmpty(g)||(h=f.$results(),h||(h=a.datavalue(b.$parentView(),g))),a.isNullEmpty(g)||a.isFunction(h)||a.isArray(h))h&&b.$addAction(h),!c&&b.$using([],function(){d().fromNode(e[0].childNodes).compile()});else{var i=g,j=a.routeContext(i),k=j.actionContext();k.action?(b.$setApp(k.app),b.$setModule(k.module),b.$addAction(k.action),!c&&b.$using([],function(){d().fromNode(e[0].childNodes).compile()})):b.$using(i,function(){var a=j.actionContext();a.action&&(b.$setApp(a.app),b.$setModule(a.module),b.$addAction(a.action),!c&&b.$using([],function(){d().fromNode(e[0].childNodes).compile()}))})}}]}})})}(bingo),function(a){a.each("attr,prop,src,checked,unchecked,disabled,enabled,readonly,class".split(","),function(b){a.command("bg-"+b,function(){return["$view","$attr","$node",function(a,c,d){var e=function(a){switch(b){case"attr":d.attr(a);break;case"prop":d.prop(a);break;case"enabled":d.prop("disabled",!a);break;case"unchecked":d.prop("checked",!a);break;case"disabled":case"readonly":case"checked":d.prop(b,a);break;default:d.attr(b,a)}};c.$subsResults(function(a){e(a)},"attr"==b||"prop"==b),c.$initResults(function(a){e(a)}),"checked"!=b&&"unchecked"!=b||d.click(function(){var e=d.prop("checked");c.$value("checked"==b?e:!e),a.$update()})}]})})}(bingo),function(a){a.each("event,click,blur,change,dblclick,focus,focusin,focusout,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,resize,scroll,select,submit,contextmenu".split(","),function(b){a.command("bg-"+b,function(){return["$view","$node","$attr",function(c,d,e){var f=function(b,e){a.isArray(e)?d.on.apply(d,[].concat(b,e)):d.on(b,function(){var a=e.apply(this,arguments);return c.$update(),a})};if("event"!=b){var g=/^\s*\[(.|\n)*\]\s*$/g.test(e.$attrValue())?e.$results():e.$value();a.isFunction(g)||a.isArray(g)||(g=function(a){return e.$eval(a)}),f(b,g)}else{var h=e.$results();if(a.isObject(h)){var g=null;for(var i in h)a.hasOwnProp(h,i)&&(g=h[i],(a.isFunction(g)||a.isArray(g))&&f(i,g))}}}]})})}(bingo),function(a){"use strict";var b=/[ ]*([^ ]+)[ ]+in[ ]+(?:(.+)[ ]+tmpl[ ]*=[ ]*(.+)|(.+))/;a.each(["bg-for","bg-render"],function(b){a.command(b,function(){return{priority:100,compileChild:!1,link:["$view","$compile","$node","$attr","$render","$tmpl",function(b,d,e,f,g,h){var i=c(e,f);if(e.html(""),i){var j=i.itemName,k=i.tmpl,l=function(a){var b=e;b.html("");var c=f.getWithData();d().fromRender(o,a,j,c).appendTo(b).compile()},m=function(a){o=g(a),f.$subsResults(function(a){l(a)},!0),f.$initResults(function(a){l(a)})},n="",o=null;if(a.isNullEmpty(k))n=i.html;else{var p=0!=k.indexOf("#");p?h(k).success(function(b){a.isNullEmpty(b)||m(b)}).get():n=k}a.isNullEmpty(n)||m(n)}}]}})});var c=function(c,d){var e=d.content;a.isNullEmpty(e)&&(e="item in {}"),b.test(e)||(e=["item in ",e].join(""));var f="",g="",h="";return e.replace(b,function(){f=arguments[1],g=arguments[2],h=a.trim(arguments[3]),a.isNullEmpty(g)&&(g=arguments[4])}),d.$attrValue(g),{itemName:f,dataName:g,tmpl:h,html:h?"":a.compile.getNodeContentTmpl(c)}}}(bingo),function(a){a.command("bg-route",function(){return{priority:1e3,replace:!1,view:!0,compileChild:!1,compile:["$compile","$node","$attr","$location",function(b,c,d,e){var f=null;e.onChange(function(d){a.location.onLoadBefore.trigger([d,e])!==!1&&(f&&f.stop(),f=b().fromUrl(d).appendTo(c).onCompilePre(function(){c.html("")}).onCompiled(function(){f=null,e.trigger("onLoaded",[e,d]),a.location.onLoaded.trigger([e])}).compile())}),d.$init(function(){var b=d.$attrValue(),c=d.view().$parentView(),f=!0,g=a.datavalue(c,b);return a.isUndefined(a.isUndefined(g))&&(g=a.datavalue(window,b),f=!1),a.isUndefined(g)?b:(f&&c.$subs(b,function(a){d.isDisposed||a&&e.href(a)}),g)},function(a){a&&e.href(a)})}]}}),a.command("bg-route-load",function(){return["$location","$attr",function(b,c){c.$initResults(function(c){a.isFunction(c)&&b.onLoaded(function(a){c.call(b,a)})})}]}),$(function(){$(document.documentElement).on("click","[href]",function(b){if(a.location.onHrefBefore.trigger([b])===!1)return!1;var c=$(this),d=c.attr("href");if(d.indexOf("#")>=0&&(d=d.split("#"),d=d[d.length-1].replace(/^[#\s]+/,""),!a.isNullEmpty(d))){var e=c.attr("bg-target");if(a.location.onHref.trigger([c,d,e])===!1)return;var f=a.location(this);f.href(d,e)}})})}(bingo),function(a){a.command("bg-html",function(){return["$attr","$node","$compile",function(b,c,d){var e=function(b){c.html(a.toStr(b)),d().fromJquery(c).compile()};b.$subsResults(function(a){e(a)}),b.$initResults(function(a){e(a)})}]})}(bingo),function(a){var b="_tif_"+a.makeAutoId();a.each(["bg-if","bg-render-if"],function(c){var d="bg-render-if"==c;a.command(c,function(){return{compileChild:!1,compile:["$attr","$node","$compile","$render",function(c,e,f,g){var h=a.compile.getNodeContentTmpl(e),i=d?g(h):null,j=function(a){e.html(""),a?(e.show(),f().fromHtml(d?i.render({},b):h).appendTo(e).compile()):e.hide()};c.$subsResults(function(a){j(a)}),c.$initResults(function(a){j(a)})}]}})})}(bingo),function(a){var b="_tinc_"+a.makeAutoId();a.each(["bg-include","bg-render-include"],function(c){var d="bg-render-include"==c;a.command(c,function(){return["$view","$attr","$viewnode","$tmpl","$render",function(c,e,f,g,h){var i=e.$attrValue();if(!a.isNullEmpty(i)){var j=function(a){var c=0!=a.indexOf("#"),e="";c?g(a).success(function(a){e=a,f.$html(d?h(e).render({},b):e)}).get():(e=$(a).html(),f.$html(d?h(e).render({},b):e))};e.$initResults(function(b){var c=!a.isUndefined(b);c?(e.$subsResults(function(a){j(a)}),j(b)):j(i)})}}]})})}(bingo),function(a){a.command("bg-model",function(){return["$view","$node","$attr",function(b,c,d){var e=c.is(":radio"),f=c.is(":checkbox");f&&c.data("checkbox_value_02",c.val());var g=function(){var a=c;return f?a.prop("checked")?a.data("checkbox_value_02"):"":a.val()},h=function(b){var d=c;b=a.toStr(b),f?d.prop("checked",d.val()==b):e?d.prop("checked",d.val()==b):d.val(b)};e?c.click(function(){var a=g();d.$value(a),b.$update()}):c.on("change",function(){var a=g();d.$value(a),b.$update()}),d.$subsValue(function(a){h(a)}),d.$initValue(function(a){h(a)})}]})}(bingo),function(a){a.each("style,show,hide,visible".split(","),function(b){a.command("bg-"+b,function(){return["$attr","$node",function(a,c){var d=function(a){switch(b){case"style":c.css(a);break;case"hide":a=!a;case"show":a?c.show():c.hide();break;case"visible":a=a?"visible":"hidden",c.css("visibility",a);break;default:c.css(b,a)}};a.$subsResults(function(a){d(a)},"style"==b),a.$initResults(function(a){d(a)})}]})})}(bingo),function(a){a.command("bg-text",function(){return["$attr","$node",function(b,c){var d=function(b){c.text(a.toStr(b))};b.$subsResults(function(a){d(a)}),b.$initResults(function(a){d(a)})}]})}(bingo),function(a){a.command("bg-node",function(){return["$attr","node",function(a,b){a.$value(b)}]})}(bingo),function(a){a.command("text/bg-script",function(){return{priority:300,compileChild:!1,compile:["$attr","$node","$bindContext",function(b,c,d){b.$init(function(){return c.html()},function(b){if(!a.isNullEmpty(b)){var c=d(b);c.$eval(),c.dispose()}})}]}}),a.command("bg-not-compile",function(){return{compileChild:!1}}),a.command("bg-loaded",function(){return{priority:5,link:["$attr",function(a){a.$init(function(){return 1},function(b){a.$eval()})}]}})}(bingo),function(a){"use strict";a.filter("eq",function(){return function(a,b){return a==b}}),a.filter("neq",function(){return function(a,b){return a!=b}}),a.filter("not",function(){return function(a,b){return!a}}),a.filter("gt",function(){return function(a,b){return a>b}}),a.filter("gte",function(){return function(a,b){return a>=b}}),a.filter("lt",function(){return function(a,b){return b>a}}),a.filter("lte",function(){return function(a,b){return b>=a}}),a.filter("len",function(){return function(b,c){return b?a.isUndefined(b.length)?0:b.length:0}}),a.filter("text",function(){return function(b,c){return a.htmlEncode(b)}}),a.filter("html",function(){return function(b,c){return a.htmlDecode(b)}}),a.filter("val",function(){return function(a,b){return b}}),a.filter("len",function(){return function(a,b){return a&&a.length?a.length:0}}),a.filter("sw",function(){return function(a,b){var c=b.length,d=c%2==1,e=d?b[c-1]:"";d&&c--;for(var f,g=null,h=!1,i=0;c>i;i+=2)if(f=b[i],a==f){g=b[i+1],h=!0;break}return h?g:e}}),a.filter("take",function(){return function(b,c){return a.linq(b).take(c[0],c[1])}}),a.filter("asc",function(){return function(b,c){var d=a.linq(b);return a.isNullEmpty(c)?d.sortAsc():d.sortAsc(c),d.toArray()}}),a.filter("desc",function(){return function(b,c){var d=a.linq(b);return a.isNullEmpty(c)?d.sortDesc():d.sortDesc(c),d.toArray()}})}(bingo);